
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Introduction to atomman: Volterra dislocation models &#8212; atomman 1.3.2 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Introduction to atomman: Dislocation analysis tools" href="04.3._Dislocation_analysis_tools.html" />
    <link rel="prev" title="Introduction to atomman: Point defect generation" href="04.1._Point_defects.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="04.3._Dislocation_analysis_tools.html" title="Introduction to atomman: Dislocation analysis tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="04.1._Point_defects.html" title="Introduction to atomman: Point defect generation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">atomman 1.3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Tutorials</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 7ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Introduction-to-atomman:-Volterra-dislocation-models">
<h1>Introduction to atomman: Volterra dislocation models<a class="headerlink" href="#Introduction-to-atomman:-Volterra-dislocation-models" title="Permalink to this headline">¶</a></h1>
<p><strong>Lucas M. Hale</strong>, <a class="reference external" href="mailto:lucas&#46;hale&#37;&#52;&#48;nist&#46;gov?Subject=ipr-demo">lucas<span>&#46;</span>hale<span>&#64;</span>nist<span>&#46;</span>gov</a>, <em>Materials Science and Engineering Division, NIST</em>.</p>
<p><a class="reference external" href="http://www.nist.gov/public_affairs/disclaimer.cfm">Disclaimers</a></p>
<div class="section" id="1.-Introduction">
<h2>1. Introduction<a class="headerlink" href="#1.-Introduction" title="Permalink to this headline">¶</a></h2>
<p>This Notebook provides an introduction to the tools in atomman for computing elasticity solutions for straight Volterra dislocations.</p>
<ul class="simple">
<li><p>atomman.defect.solve_volterra_dislocation() is a wrapper function that returns one of the two classes below based on the supplied elastic constants.</p></li>
<li><p>atomman.defect.IsotropicVolterraDislocation class uses the classical analytical equations associated with the isotropic straight dislocation.</p></li>
<li><p>atomman.defect.Stroh class solves the Eshelby anisotropic straight dislocation problem using the Stroh (eigenvector) method.</p></li>
</ul>
<p>Both calculation classes are children of the atomman.defect.VolterraDislocation template class, and therefore provide a similar interface for initialization and obtaining evaluated properties.</p>
<p><strong>Library Imports</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Standard libraries</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="k">import</span> <span class="n">deepcopy</span>

<span class="c1"># http://www.numpy.org/</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1"># https://github.com/usnistgov/atomman</span>
<span class="kn">import</span> <span class="nn">atomman</span> <span class="k">as</span> <span class="nn">am</span>
<span class="kn">import</span> <span class="nn">atomman.unitconvert</span> <span class="k">as</span> <span class="nn">uc</span>

<span class="c1"># Show atomman version</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;atomman version =&#39;</span><span class="p">,</span> <span class="n">am</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>

<span class="c1"># Show date of Notebook execution</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Notebook executed on&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
atomman version = 1.3.2
Notebook executed on 2020-04-15
</pre></div></div>
</div>
</div>
<div class="section" id="2.-Theory">
<h2>2. Theory<a class="headerlink" href="#2.-Theory" title="Permalink to this headline">¶</a></h2>
<p>Dislocation theory is based on computing and using elasticity solutions of dislocations to define what they look like and how they interact with the surrounding material. The Volterra dislocation model assumes that the discontinuity in the crystal due to the dislocation exists as a line singularity. While this assumption does not hold true in real materials, the Volterra solution is still a good estimate far from the dislocation core. It also provides a useful starting point for developing more
complicated dislocation solutions, and can provide a decent initial guess for constructing atomic dislocation configurations.</p>
<p>For straight dislocations, the solutions are always defined relative to three orthogonal unit vectors <span class="math notranslate nohighlight">\(m_i\)</span>, <span class="math notranslate nohighlight">\(n_i\)</span>, and <span class="math notranslate nohighlight">\(\xi_i\)</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(m_i\)</span> is the direction in the slip plane perpendicular to the line direction.</p></li>
<li><p><span class="math notranslate nohighlight">\(n_i\)</span> is the normal of the dislocation’s slip plane.</p></li>
<li><p><span class="math notranslate nohighlight">\(\xi_i\)</span> is parallel to the dislocation’s line direction.</p></li>
</ul>
<p>Based on these three vectors, we can define a Cartesian coordinate system for the dislocation solution with positions, <span class="math notranslate nohighlight">\(x_i\)</span>, given by</p>
<div class="math notranslate nohighlight">
\[x_i = x_1 m_i + x_2 n_i + x_3 \xi_i\]</div>
<div class="section" id="2.1-Isotropic-solution">
<h3>2.1 Isotropic solution<a class="headerlink" href="#2.1-Isotropic-solution" title="Permalink to this headline">¶</a></h3>
<p>Analytical equations for the isotropic dislocation solution can be found in nearly every textbook focused on dislocation theory. The equations used in atomman are close to those found in Elementary Dislocation Theory by Weertman and Weertman, except with flipped signs.</p>
<p>Isotropic elastic constants can be represented using only two independent terms. For dislocation solutions, the two isotropic elastic constants typically used are the shear modulus, <span class="math notranslate nohighlight">\(\mu\)</span>, and the Poisson’s ratio, <span class="math notranslate nohighlight">\(\nu\)</span>.</p>
<p>With a straight dislocation, the solution is independent of the <span class="math notranslate nohighlight">\(x_3\)</span> direction and therefore only depends on <span class="math notranslate nohighlight">\(x_1\)</span> and <span class="math notranslate nohighlight">\(x_2\)</span>.</p>
<p>The specific isotropic equations used here were selected such that values and periods compare well with the Stroh results.</p>
</div>
<div class="section" id="2.2-Basics-of-the-Stroh-method">
<h3>2.2 Basics of the Stroh method<a class="headerlink" href="#2.2-Basics-of-the-Stroh-method" title="Permalink to this headline">¶</a></h3>
<p>Starting with the fundamental equations of elasticity:</p>
<div class="math notranslate nohighlight">
\[\sigma_{ij} = C_{ijkl} \epsilon_{kl}\]</div>
<div class="math notranslate nohighlight">
\[\epsilon_{ij} = \frac{1}{2} \left(\frac{\partial u_i}{\partial x_j} + \frac{\partial u_j}{\partial x_i}\right)\]</div>
<div class="math notranslate nohighlight">
\[\frac{\partial \sigma_{ij}}{\partial x_j} = 0\]</div>
<p>Combining these and taking the solution to be independent of <span class="math notranslate nohighlight">\(x_3\)</span> generates the partial differential equation:</p>
<div class="math notranslate nohighlight">
\[C_{ijkl} \frac{ \partial^2 u_k}{\partial x_j \partial x_l} = 0\]</div>
<p>Solutions of the partial differential equation are of the form</p>
<div class="math notranslate nohighlight">
\[u_k = A_k f(x_1 + p x_2)\]</div>
<p>Values of <span class="math notranslate nohighlight">\(A_k\)</span> and <span class="math notranslate nohighlight">\(p\)</span> can be found by solving</p>
<div class="math notranslate nohighlight">
\[\left[C_{i1k1} + \left(C_{i1k2} + C_{i2k1} \right) p + C_{i2k2} p^2 \right] A_k = 0\]</div>
<p>The determinate expression is a sixth-order polynomial expression resulting in six complex roots, <span class="math notranslate nohighlight">\(p_\alpha\)</span> with <span class="math notranslate nohighlight">\(\alpha\)</span> ranging 1 to 6. There is also one <span class="math notranslate nohighlight">\(A_{k \alpha}\)</span> corresponding to each root.</p>
<p>With the Stroh method for solving the problem, another vector, <span class="math notranslate nohighlight">\(L_i\)</span> is defined for each <span class="math notranslate nohighlight">\(\alpha\)</span> root as</p>
<div class="math notranslate nohighlight">
\[L_{i \alpha} = \left(C_{i2k1} + p_{\alpha} C_{i2k2} \right) A_{k \alpha}\]</div>
<p>and a normalization factor, <span class="math notranslate nohighlight">\(k_{\alpha}\)</span>, as</p>
<div class="math notranslate nohighlight">
\[k_{\alpha} = \frac{1}{2 A_{j \alpha} L_{j \alpha}}\]</div>
<p>Stroh’s method is then to write the problem as an eigenvector problem, which solving gives values for <span class="math notranslate nohighlight">\(p_{\alpha}\)</span>, <span class="math notranslate nohighlight">\(A_{i \alpha}\)</span>, and <span class="math notranslate nohighlight">\(L_{i \alpha}\)</span>. Properties of the dislocation can then be computed with equations that use these solution parameters.</p>
</div>
</div>
<div class="section" id="3.-Get-solution">
<h2>3. Get solution<a class="headerlink" href="#3.-Get-solution" title="Permalink to this headline">¶</a></h2>
<p>A Volterra dislocation solution can be obtained by either calling the solve_volterra_dislocation() function, or by initializing one of the dislocation solution classes. The two classes also have a solve() method that allows for a new solution to be obtained using the same object. The solve_volterra_dislocation() function, the class initializers, and the class solve methods all accept the same set of parameters.</p>
<p><em>Update Version 1.3.2: ξ_uvw, slip_hkl, and box parameters added to make defining systems easier, especially for non-cubic crystals. axes renamed to transform for clarity.</em></p>
<p>Parameters</p>
<ul class="simple">
<li><p><strong>C</strong> (<em>atomman.ElasticConstants</em>) The medium’s elastic constants.</p></li>
<li><p><strong>burgers</strong> (<em>array-like object</em>) The dislocation’s Burgers vector.</p></li>
<li><p><strong>ξ_uvw</strong> (<em>array-like object</em>) The Miller crystal vector associated with the dislocation’s line direction. Must be given with slip_hkl to identify the transformation matrix to use on C and burgers.</p></li>
<li><p><strong>slip_hkl</strong> (<em>array-like object</em>) The Miller plane indices associated with the dislocation’s slip plane. Must be given with slip_hkl to identify the transformation matrix to use on C and burgers.</p></li>
<li><p><strong>transform</strong> (<em>array-like object, optional</em>) A 3x3 set of orthogonal Cartesian vectors that define the transformation matrix to use on C and burgers to convert from the standard (unit cell) and dislocation orientations. The 3 vectors will automatically be converted into unit vectors. Using this is an alternative to using ξ_uvw and slip_hkl.</p></li>
<li><p><strong>axes</strong> (<em>array-like object, optional</em>) Same as transform. Retained for backwards compatibility.</p></li>
<li><p><strong>box</strong> (<em>atomman.Box, optional</em>) The unit cell’s box that crystal vectors are taken with respect to. If not given, will use a cubic box with a=1 meaning that burgers, ξ_uvw and slip_hkl will be interpreted as Cartesian vectors.</p></li>
<li><p><strong>m</strong> (<em>array-like object, optional</em>) The m Cartesian unit vector for the solution giving the <span class="math notranslate nohighlight">\(x_1\)</span> direction. m, n, and <span class="math notranslate nohighlight">\(\xi\)</span> (dislocation line direction) should be right-hand orthogonal. Default value is [1,0,0] (Cartesian x-axis).</p></li>
<li><p><strong>n</strong> (<em>array-like object, optional</em>) The n Cartesian unit vector for the solution giving the <span class="math notranslate nohighlight">\(x_2\)</span> direction. m, n, and <span class="math notranslate nohighlight">\(\xi\)</span> (dislocation line direction) should be right-hand orthogonal. Default value is [0,1,0] (Cartesian y-axis).</p></li>
<li><p><strong>tol</strong> (<em>float</em>) Tolerance parameter used to round off near-zero values. Default value is 1e-8.</p></li>
</ul>
<div class="section" id="3.1-Specify-input-parameters">
<h3>3.1 Specify input parameters<a class="headerlink" href="#3.1-Specify-input-parameters" title="Permalink to this headline">¶</a></h3>
<div class="section" id="3.1.1-Cu-fcc-unit-cell">
<h4>3.1.1 Cu fcc unit cell<a class="headerlink" href="#3.1.1-Cu-fcc-unit-cell" title="Permalink to this headline">¶</a></h4>
<p>The dislocation solution only needs the box, but the full unit cell is used Section 5 to generate atomic configurations.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mf">3.6</span><span class="p">,</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">Box</span><span class="o">.</span><span class="n">cubic</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>

<span class="n">atoms</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">Atoms</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])</span>

<span class="n">ucell</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">System</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">,</span>
                  <span class="n">atoms</span><span class="o">=</span><span class="n">atoms</span><span class="p">,</span>
                  <span class="n">scale</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ucell</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 3.600,  0.000,  0.000]
bvect =  [ 0.000,  3.600,  0.000]
cvect =  [ 0.000,  0.000,  3.600]
origin = [ 0.000,  0.000,  0.000]
natoms = 4
natypes = 1
symbols = (None,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   1.800 |   1.800 |   0.000
      2 |       1 |   1.800 |   0.000 |   1.800
      3 |       1 |   0.000 |   1.800 |   1.800
</pre></div></div>
</div>
</div>
<div class="section" id="3.1.2-fcc-a/2&lt;10-1&gt;{111}-dislocation">
<h4>3.1.2 fcc a/2&lt;10-1&gt;{111} dislocation<a class="headerlink" href="#3.1.2-fcc-a/2<10-1>{111}-dislocation" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">burgers</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">slip_hkl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="c1"># The dislocation&#39;s line direction (ξ_uvw) determines character</span>
<span class="n">ξ_uvw</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="c1"># 90 degree edge</span>
<span class="c1">#ξ_uvw = [1, -1, 0] # 60 degree mixed</span>
<span class="c1">#ξ_uvw = [1, 1, -2] # 30 degree mixed</span>
<span class="c1">#ξ_uvw = [1, 0, -1] # 0 degree screw</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="3.1.3-Dislocation-system-orientation">
<h4>3.1.3 Dislocation system orientation<a class="headerlink" href="#3.1.3-Dislocation-system-orientation" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="c1"># align edge component with the y-axis</span>
<span class="n">n</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="c1"># align slip plane normal with the z-axis</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="3.1.4-Elastic-constants">
<h4>3.1.4 Elastic constants<a class="headerlink" href="#3.1.4-Elastic-constants" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Rough isotropic values for Cu</span>
<span class="c1">#E = uc.set_in_units(130, &#39;GPa&#39;)</span>
<span class="c1">#Poisson = 0.34</span>
<span class="c1">#C = am.ElasticConstants(E=E, nu=Poisson)</span>

<span class="c1"># Rough anisotropic values for Cu</span>
<span class="n">C11</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">169</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C12</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C44</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mf">75.4</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">ElasticConstants</span><span class="p">(</span><span class="n">C11</span><span class="o">=</span><span class="n">C11</span><span class="p">,</span> <span class="n">C12</span><span class="o">=</span><span class="n">C12</span><span class="p">,</span> <span class="n">C44</span><span class="o">=</span><span class="n">C44</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">Cij</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">),</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[169.  122.  122.    0.    0.    0. ]
 [122.  169.  122.    0.    0.    0. ]
 [122.  122.  169.    0.    0.    0. ]
 [  0.    0.    0.   75.4   0.    0. ]
 [  0.    0.    0.    0.   75.4   0. ]
 [  0.    0.    0.    0.    0.   75.4]] GPa
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="3.2-Build-solution-and-check-configuration">
<h3>3.2 Build solution and check configuration<a class="headerlink" href="#3.2-Build-solution-and-check-configuration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="3.2.1-Build-solution">
<h4>3.2.1 Build solution<a class="headerlink" href="#3.2.1-Build-solution" title="Permalink to this headline">¶</a></h4>
<p>Passing box to the solution allows for burgers, ξ_uvw, and slip_hkl to be given as crystal vectors. Passing ξ_uvw, and slip_hkl to the solution allows for C and burgers to be defined relative to the standard (unit cell) reference.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">solution</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">solve_volterra_dislocation</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">burgers</span><span class="p">,</span> <span class="n">ξ_uvw</span><span class="o">=</span><span class="n">ξ_uvw</span><span class="p">,</span> <span class="n">slip_hkl</span><span class="o">=</span><span class="n">slip_hkl</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="3.2.2-Check-configuration-values">
<h4>3.2.2 Check configuration values<a class="headerlink" href="#3.2.2-Check-configuration-values" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dislocation configuration:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m:        &#39;</span><span class="p">,</span> <span class="n">solution</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n:        &#39;</span><span class="p">,</span> <span class="n">solution</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ξ:        &#39;</span><span class="p">,</span> <span class="n">solution</span><span class="o">.</span><span class="n">ξ</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Burgers:  &#39;</span><span class="p">,</span> <span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">burgers</span><span class="p">,</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;|Burgers|:&#39;</span><span class="p">,</span> <span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">burgers</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Character:&#39;</span><span class="p">,</span> <span class="n">solution</span><span class="o">.</span><span class="n">characterangle</span><span class="p">(),</span> <span class="s1">&#39;degrees&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transformation matrix from standard orientation to dislocation orientation:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">transform</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Dislocation configuration:
m:         [0. 1. 0.]
n:         [0. 0. 1.]
ξ:         [1. 0. 0.]
Burgers:   [0.    2.546 0.   ] angstrom
|Burgers|: 2.545584412271571 angstrom
Character: 90.0 degrees

Transformation matrix from standard orientation to dislocation orientation:
[[ 0.408 -0.816  0.408]
 [ 0.707  0.    -0.707]
 [ 0.577  0.577  0.577]]
</pre></div></div>
</div>
</div>
<div class="section" id="3.2.3-Show-underlying-solution-parameters">
<h4>3.2.3 Show underlying solution parameters<a class="headerlink" href="#3.2.3-Show-underlying-solution-parameters" title="Permalink to this headline">¶</a></h4>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">IsotropicVolterraDislocation</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Solution is isotropic&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;mu -&gt; {uc.get_in_units(solution.mu, &quot;GPa&quot;):.3f} GPa&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;nu -&gt; </span><span class="si">{solution.nu:.3f}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">Stroh</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Solution is anisotropic&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p -&gt;&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">p</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A -&gt;&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">A</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;L -&gt;&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">L</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;k -&gt;&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">k</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Solution is anisotropic
p -&gt;
[-0.574+1.481j -0.574-1.481j  0.574+1.481j  0.574-1.481j  0.   +0.394j
  0.   -0.394j]
A -&gt;
[[ 6.672e-01+0.000e+00j -4.925e-01+2.927e-01j -1.867e-01-9.776e-02j]
 [ 6.672e-01-0.000e+00j -4.925e-01-2.927e-01j -1.867e-01+9.776e-02j]
 [ 6.672e-01+0.000e+00j  4.925e-01+2.927e-01j -1.867e-01+9.776e-02j]
 [ 6.672e-01-0.000e+00j  4.925e-01-2.927e-01j -1.867e-01-9.776e-02j]
 [-4.278e-01-2.949e-16j  4.061e-17+1.473e-01j -7.891e-01+0.000e+00j]
 [-4.278e-01+2.949e-16j  4.061e-17-1.473e-01j -7.891e-01-0.000e+00j]]
L -&gt;
[[ 2.238e-02-2.069e-01j  1.878e-01+2.534e-01j -1.060e-01+1.679e-01j]
 [ 2.238e-02+2.069e-01j  1.878e-01-2.534e-01j -1.060e-01-1.679e-01j]
 [-2.238e-02-2.069e-01j  1.878e-01-2.534e-01j  1.060e-01+1.679e-01j]
 [-2.238e-02+2.069e-01j  1.878e-01+2.534e-01j  1.060e-01-1.679e-01j]
 [-4.423e-17+6.540e-02j  1.504e-01+5.857e-17j  1.115e-16+3.818e-01j]
 [-4.423e-17-6.540e-02j  1.504e-01-5.857e-17j  1.115e-16-3.818e-01j]]
k -&gt;
[-8.788e-01+1.741j -8.788e-01-1.741j  8.788e-01+1.741j  8.788e-01-1.741j
 -2.774e-16+1.628j -2.774e-16-1.628j]
</pre></div></div>
</div>
</div>
</div>
</div>
<div class="section" id="4.-Derived-properties">
<h2>4. Derived properties<a class="headerlink" href="#4.-Derived-properties" title="Permalink to this headline">¶</a></h2>
<p>Different properties of the solution can be derived from the solution parameters and obtained as other attributes of the class.</p>
<div class="section" id="4.1-Energy-coefficient-tensor,-K_tensor">
<h3>4.1 Energy coefficient tensor, K_tensor<a class="headerlink" href="#4.1-Energy-coefficient-tensor,-K_tensor" title="Permalink to this headline">¶</a></h3>
<p>The energy coefficient tensor is a property of the solution that is useful for dislocation stress and energy calculations. It only depends on the elastic constants and the orientation.</p>
<p><strong>Caution</strong>: <span class="math notranslate nohighlight">\(K_{ij}\)</span> is defined differently by different authors and may vary by multiplicative factors. Here, it is taken such that the isotropic screw component is the shear modulus, <span class="math notranslate nohighlight">\(\mu\)</span>.</p>
<div class="section" id="4.1.1-Isotropic">
<h4>4.1.1 Isotropic<a class="headerlink" href="#4.1.1-Isotropic" title="Permalink to this headline">¶</a></h4>
<p>In the isotropic case, the only non-zero components (in the dislocation orientation) are</p>
<div class="math notranslate nohighlight">
\[K_{11}^{iso} = K_{22}^{iso} = K_{edge}^{iso} = \frac{\mu}{1 - \nu}\]</div>
<div class="math notranslate nohighlight">
\[K_{33}^{iso} = K_{screw}^{iso} = \mu\]</div>
</div>
<div class="section" id="4.1.2-Anisotropic">
<h4>4.1.2 Anisotropic<a class="headerlink" href="#4.1.2-Anisotropic" title="Permalink to this headline">¶</a></h4>
<p>The tensor can be obtained from the Stroh solution parameters as</p>
<div class="math notranslate nohighlight">
\[K_{jl} = i \sum_{\alpha} \pm k_{\alpha} L_{j \alpha} L_{l \alpha}\]</div>
<p>where <span class="math notranslate nohighlight">\(i\)</span> is the imaginary unit and the <span class="math notranslate nohighlight">\(\pm\)</span> sense alternates for even/odd values of <span class="math notranslate nohighlight">\(\alpha\)</span> (the six partial solutions are three pairs of complex conjugates).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;K_tensor (in GPa) -&gt;&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">K_tensor</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
K_tensor (in GPa) -&gt;
[[44.217  0.    -8.628]
 [ 0.    74.096  0.   ]
 [-8.628  0.    74.933]]
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="4.2-Energy-coefficient,-K_coeff">
<h3>4.2 Energy coefficient, K_coeff<a class="headerlink" href="#4.2-Energy-coefficient,-K_coeff" title="Permalink to this headline">¶</a></h3>
<p>The energy coefficient, <span class="math notranslate nohighlight">\(K\)</span>, is a dislocation-specific coefficient found in expressions for a dislocation’s self-energy</p>
<div class="math notranslate nohighlight">
\[\frac{W}{l} = \frac{K b^2}{4 \pi} \ln{ \left( \frac{R}{r_0} \right)},\]</div>
<p>where <span class="math notranslate nohighlight">\(b\)</span> is the magnitude of <span class="math notranslate nohighlight">\(b_i\)</span>, and <span class="math notranslate nohighlight">\(r_0\)</span> and <span class="math notranslate nohighlight">\(R\)</span> are the inner and outer radii of a cylindircal ring around the dislocation. The energy coefficient can be computed from the energy coefficent tensor and burgers vector</p>
<div class="math notranslate nohighlight">
\[K = \frac{b_i K_{ij} b_j} {b_k b_k}\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Note values are same as K11 component above due to pure edge dislocation</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;K_coeff -&gt; {uc.get_in_units(solution.K_coeff, &quot;GPa&quot;):.3f} GPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
K_coeff -&gt; 74.096 GPa
</pre></div></div>
</div>
</div>
<div class="section" id="4.3-Pre-logarithmic-factor,-preln">
<h3>4.3 Pre-logarithmic factor, preln<a class="headerlink" href="#4.3-Pre-logarithmic-factor,-preln" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, the self-energy expression can be represented as</p>
<div class="math notranslate nohighlight">
\[\frac{W}{l} = a \ln{ \left( \frac{R}{r_0} \right)},\]</div>
<p>where <span class="math notranslate nohighlight">\(a\)</span> is referred to as the pre-logarithmic energy factor and is in units of energy/length. Related to <span class="math notranslate nohighlight">\(K\)</span> and <span class="math notranslate nohighlight">\(K_{ij}\)</span>,</p>
<div class="math notranslate nohighlight">
\[a = \frac{b_i K_{ij} b_j}{4 \pi} = \frac{K b^2}{4 \pi}\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;preln -&gt; {uc.get_in_units(solution.preln, &quot;eV/Å&quot;):f} eV/Å&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
preln -&gt; 0.238480 eV/Å
</pre></div></div>
</div>
</div>
<div class="section" id="4.4-displacements">
<h3>4.4 displacements<a class="headerlink" href="#4.4-displacements" title="Permalink to this headline">¶</a></h3>
<p>Position-based displacements associated with the elastic solution can be calculated using either model. Note that the solution assumes the dislocation’s position to be at coorinates (0, 0) for</p>
<div class="section" id="4.4.1-Isotropic-equations">
<h4>4.4.1 Isotropic equations<a class="headerlink" href="#4.4.1-Isotropic-equations" title="Permalink to this headline">¶</a></h4>
<div class="math notranslate nohighlight">
\[u_1 = \frac{b_1}{2 \pi} \left[ \theta + \frac{x_1x_2}{2 (1 - \nu) (x_1^2 + x_2^2)} \right]\]</div>
<div class="math notranslate nohighlight">
\[u_2 = \frac{b_1}{2 \pi} \left[ -\frac{1 - 2 \nu} {4 (1 - \nu)} \ln(x_1^2 + x_2^2)
                          + \frac{y^2} {2 (1 - \nu) (x^2 + y^2)} \right]\]</div>
<div class="math notranslate nohighlight">
\[u_3 = \frac{b_3}{2 \pi} \theta.\]</div>
<p>Here (and below), <span class="math notranslate nohighlight">\(\theta\)</span> is the radial angle coordinate</p>
<div class="math notranslate nohighlight">
\[\theta=\tan^{-1} (x_2/x_1),\]</div>
<p>which is taken to range from <span class="math notranslate nohighlight">\(-\pi\)</span> to <span class="math notranslate nohighlight">\(\pi\)</span>.</p>
</div>
<div class="section" id="4.4.2-Anisotropic-equations">
<h4>4.4.2 Anisotropic equations<a class="headerlink" href="#4.4.2-Anisotropic-equations" title="Permalink to this headline">¶</a></h4>
<div class="math notranslate nohighlight">
\[u_j = \frac{1}{2 \pi i} \sum_{\alpha}  \pm k_{\alpha} A_{j \alpha} (L_{l \alpha} b_l) \ln{\eta_{\alpha}}.\]</div>
<p>Here (and below), <span class="math notranslate nohighlight">\(\eta\)</span> is an imaginary coordinate that combines <span class="math notranslate nohighlight">\(x_1\)</span> and <span class="math notranslate nohighlight">\(x_2\)</span> using the computed eigenvalues <span class="math notranslate nohighlight">\(p_{\alpha}\)</span></p>
<div class="math notranslate nohighlight">
\[\eta_{\alpha} = x_1 + p_{\alpha} x_2\]</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Generate spacial grid of points</span>
<span class="n">xy_max</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">num_xy</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">xvals</span> <span class="o">=</span> <span class="n">yvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">xy_max</span><span class="p">,</span> <span class="n">xy_max</span><span class="p">,</span> <span class="n">num_xy</span><span class="p">)</span>
<span class="n">xvals</span><span class="p">,</span> <span class="n">yvals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">xy_max</span><span class="p">,</span> <span class="n">xy_max</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">xy_max</span><span class="p">,</span> <span class="n">xy_max</span><span class="p">,</span> <span class="n">num_xy</span><span class="p">))</span>

<span class="c1"># Convert points to coordinates relative to dislocation system</span>
<span class="n">coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">outer</span><span class="p">(</span><span class="n">xvals</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">outer</span><span class="p">(</span><span class="n">yvals</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="c1"># Identify x, y directions</span>
<span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;$x_1$&#39;</span>
<span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;$x_2$&#39;</span>
<span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;$x_3$&#39;</span>
<span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;$x_1$&#39;</span>
<span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;$x_2$&#39;</span>
<span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;$x_3$&#39;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Compute displacements</span>
<span class="n">disp</span> <span class="o">=</span> <span class="n">solution</span><span class="o">.</span><span class="n">displacement</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">disp_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">disp</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">im</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">xvals</span><span class="p">,</span> <span class="n">yvals</span><span class="p">,</span> <span class="n">disp</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">num_xy</span><span class="p">,</span> <span class="n">num_xy</span><span class="p">),</span> <span class="n">vmin</span><span class="o">=-</span><span class="n">disp_max</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">disp_max</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;$u_{{{i+1}}}$&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coordinates and displacements in Angstroms&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Coordinates and displacements in Angstroms
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.2._Volterra_dislocation_models_33_1.png" src="../_images/tutorial_04.2._Volterra_dislocation_models_33_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="4.5-stress">
<h3>4.5 stress<a class="headerlink" href="#4.5-stress" title="Permalink to this headline">¶</a></h3>
<p>The stress state associated with the elastic solution can also be calculated at a given position for both models</p>
<div class="section" id="4.5.1-Isotropic-equations">
<h4>4.5.1 Isotropic equations<a class="headerlink" href="#4.5.1-Isotropic-equations" title="Permalink to this headline">¶</a></h4>
<div class="math notranslate nohighlight">
\[\sigma_{11} = -\frac{\mu b_1}{2 \pi (1 - \nu)} \frac{x_2 (3 x_1^2 + x_2^2)} { (x_1^2 + x_2^2)^2}\]</div>
<div class="math notranslate nohighlight">
\[\sigma_{22} = \frac{\mu b_1}{2 \pi (1 - \nu)} \frac{x_2 (x_1^2 - x_2^2)} { (x_1^2 + x_2^2)^2}\]</div>
<div class="math notranslate nohighlight">
\[\sigma_{33} = \nu(\sigma_{11} + \sigma_{22})\]</div>
<div class="math notranslate nohighlight">
\[\sigma_{12} = \frac{\mu b_1}{2 \pi (1 - \nu)} \frac{x_1(x_1^2 - x_2^2)) }{ (x_1^2 + x_2^2)^2}\]</div>
<div class="math notranslate nohighlight">
\[\sigma_{13} =-\frac{\mu b_3}{2 \pi} \frac{x_2}{(x_1^2 + x_2^2)}\]</div>
<div class="math notranslate nohighlight">
\[\sigma_{23} = \frac{\mu b_3}{2 \pi} \frac{x_1}{(x_1^2 + x_2^2)}\]</div>
</div>
<div class="section" id="4.5.2-Anisotropic-equations">
<h4>4.5.2 Anisotropic equations<a class="headerlink" href="#4.5.2-Anisotropic-equations" title="Permalink to this headline">¶</a></h4>
<div class="math notranslate nohighlight">
\[\sigma_{ij} = \frac{1}{2 \pi i} \sum_{\alpha}  \pm k_{\alpha} C_{ijkl}[m_l + p_{\alpha} n_l] A_{k \alpha} (L_{m \alpha} b_m) \frac{1}{\eta_{\alpha}}\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Compute stress states</span>
<span class="n">stress</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">stress</span><span class="p">(</span><span class="n">coords</span><span class="p">),</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">stress_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">stress</span><span class="o">.</span><span class="n">max</span><span class="p">())</span> <span class="o">/</span> <span class="mi">10</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">14</span><span class="p">),</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">im</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">xvals</span><span class="p">,</span> <span class="n">yvals</span><span class="p">,</span> <span class="n">stress</span><span class="p">[:,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">num_xy</span><span class="p">,</span> <span class="n">num_xy</span><span class="p">),</span> <span class="n">vmin</span><span class="o">=-</span><span class="n">stress_max</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">stress_max</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;$\sigma_{{{i+1}{j+1}}}$&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;large&#39;</span><span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Stress components in GPa, coordinates in Angstroms&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Stress components in GPa, coordinates in Angstroms
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.2._Volterra_dislocation_models_35_1.png" src="../_images/tutorial_04.2._Volterra_dislocation_models_35_1.png" />
</div>
</div>
</div>
</div>
</div>
<div class="section" id="5.-Generate-dislocation-configuration">
<h2>5. Generate dislocation configuration<a class="headerlink" href="#5.-Generate-dislocation-configuration" title="Permalink to this headline">¶</a></h2>
<p>The solution’s displacements can also be used to insert a dislocation into an otherwise perfect atomic configuration. This provides a nice initial guess for the atomic structure of the dislocation that can be further relaxed.</p>
<p>The dislocation solution itself is a continuum model and therefore does not depend on the discrete atomic positions. However, care must be used when generating an atomic configuration to ensure that the atoms are compatible with the solution. This involves:</p>
<ol class="arabic simple">
<li><p>Rotating the crystal structure to coincide with the dislocation solution orientation.</p></li>
<li><p>Shifting the atoms so that none are directly on the slip plane. This is because the displacement solution has a discontinuity at the slip plane.</p></li>
<li><p>Displacing the atoms using the solution’s displacement values.</p></li>
</ol>
<div class="section" id="5.1.-Start-with-a-unit-cell">
<h3>5.1. Start with a unit cell<a class="headerlink" href="#5.1.-Start-with-a-unit-cell" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Unit cell as defined above</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ucell</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 3.600,  0.000,  0.000]
bvect =  [ 0.000,  3.600,  0.000]
cvect =  [ 0.000,  0.000,  3.600]
origin = [ 0.000,  0.000,  0.000]
natoms = 4
natypes = 1
symbols = (None,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   1.800 |   1.800 |   0.000
      2 |       1 |   1.800 |   0.000 |   1.800
      3 |       1 |   0.000 |   1.800 |   1.800
</pre></div></div>
</div>
</div>
<div class="section" id="5.2-Use-dislocation_system_basis-to-identify-the-rotation-crystal-vectors">
<h3>5.2 Use dislocation_system_basis to identify the rotation crystal vectors<a class="headerlink" href="#5.2-Use-dislocation_system_basis-to-identify-the-rotation-crystal-vectors" title="Permalink to this headline">¶</a></h3>
<p>For cubic systems, the a_uvw, b_uvw, c_uvw crystal vectors to rotate the system by can be easily worked out from the defined system orientation parameters and the transformation matrix. For non-cubic systems, it is a trickier problem and the dislocation_system_basis function was created to assist with this by searching for crystal vectors close to the transformation matrix vectors.</p>
<p><strong>NOTE:</strong> This function will throw an error if the identified uvws are not compatible with how LAMMPS defines the system boxes. For the general non-cubic case, always use m=[0,1,0] and n=[0,0,1]! See Section 6 below for more details.</p>
<p>Parameters</p>
<ul class="simple">
<li><p><strong>ξ_uvw</strong> (<em>array-like object</em>) The Miller crystal vector associated with the dislocation’s line direction.</p></li>
<li><p><strong>slip_hkl</strong> (<em>array-like object</em>) The Miller plane indices associated with the dislocation’s slip plane.</p></li>
<li><p><strong>m</strong> (<em>array-like object, optional</em>) The m Cartesian unit vector for the solution giving the <span class="math notranslate nohighlight">\(x_1\)</span> direction. m, n, and <span class="math notranslate nohighlight">\(\xi\)</span> (dislocation line direction) should be right-hand orthogonal. Default value is [1,0,0] (Cartesian x-axis).</p></li>
<li><p><strong>n</strong> (<em>array-like object, optional</em>) The n Cartesian unit vector for the solution giving the <span class="math notranslate nohighlight">\(x_2\)</span> direction. m, n, and <span class="math notranslate nohighlight">\(\xi\)</span> (dislocation line direction) should be right-hand orthogonal. Default value is [0,1,0] (Cartesian y-axis).</p></li>
<li><p><strong>box</strong> (<em>atomman.Box, optional</em>) The unit cell’s box that crystal vectors are taken with respect to. If not given, will use a cubic box with a=1 meaning that ξ_uvw and slip_hkl will be interpreted as Cartesian vectors</p></li>
<li><p><strong>tol</strong> (<em>float, optional</em>) Tolerance parameter used to round off near-zero values. Default value is 1e-8.</p></li>
<li><p><strong>maxindex</strong> (<em>int, optional</em>) The maximum Miller index to use when searching for crystal vectors. Default value is 10.</p></li>
<li><p><strong>return_hexagonal</strong> (<em>bool, optional</em>) Indicates if the indices are to be returned as 4-coordinate Miller-Bravais indices. Default value is False.</p></li>
<li><p><strong>return_transform</strong> (<em>bool, optional</em>) If True, the transformation matrix will also be returned. Default value is False.</p></li>
</ul>
<p>Returns</p>
<ul class="simple">
<li><p><strong>uvws</strong> (<em>array-like object</em>) The rotation crystal vector to use.</p></li>
<li><p><strong>transform</strong> (<em>array-like object</em>) The transformation matrix corresponding to the rotation. Returned if return_transform is True.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">uvws</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">dislocation_system_basis</span><span class="p">(</span><span class="n">ξ_uvw</span><span class="p">,</span> <span class="n">slip_hkl</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uvws</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 1. -2.  1.]
 [ 1.  0. -1.]
 [ 1.  1.  1.]]
</pre></div></div>
</div>
</div>
<div class="section" id="5.3-Rotate-ucell-using-uvws">
<h3>5.3 Rotate ucell using uvws<a class="headerlink" href="#5.3-Rotate-ucell-using-uvws" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">system</span> <span class="o">=</span> <span class="n">ucell</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">uvws</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">system</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 8.818,  0.000,  0.000]
bvect =  [ 0.000,  5.091,  0.000]
cvect =  [ 0.000,  0.000,  6.235]
origin = [ 0.000,  0.000,  0.000]
natoms = 24
natypes = 1
symbols = (None,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   2.205 |   3.818 |   6.235
      1 |       1 |   8.818 |   2.546 |   0.000
      2 |       1 |   6.614 |   3.818 |   0.000
      3 |       1 |   6.614 |   1.273 |   6.235
      4 |       1 |   8.083 |   3.818 |   2.078
      5 |       1 |   2.205 |   1.273 |   6.235
      6 |       1 |   4.409 |   0.000 |   6.235
      7 |       1 |   4.409 |   2.546 |   6.235
      8 |       1 |   3.674 |   3.818 |   2.078
      9 |       1 |   5.879 |   2.546 |   2.078
     10 |       1 |   3.674 |   1.273 |   2.078
     11 |       1 |   5.144 |   3.818 |   4.157
     12 |       1 |   0.000 |   0.000 |   0.000
     13 |       1 |   1.470 |   0.000 |   2.078
     14 |       1 |   1.470 |   2.546 |   2.078
     15 |       1 |   0.735 |   3.818 |   4.157
     16 |       1 |   2.939 |   2.546 |   4.157
     17 |       1 |   0.735 |   1.273 |   4.157
     18 |       1 |   8.083 |   1.273 |   2.078
     19 |       1 |   5.879 |   5.091 |   2.078
     20 |       1 |   5.144 |   1.273 |   4.157
     21 |       1 |   7.348 |   5.091 |   4.157
     22 |       1 |   7.348 |   2.546 |   4.157
     23 |       1 |   2.939 |   5.091 |   4.157
</pre></div></div>
</div>
</div>
<div class="section" id="5.4-Shift-atoms-off-of-the-slip-plane">
<h3>5.4 Shift atoms off of the slip plane<a class="headerlink" href="#5.4-Shift-atoms-off-of-the-slip-plane" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Identify the unique coorinates normal to the slip plane</span>
<span class="n">y_coords</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">unique</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">y_coords</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">unique</span><span class="p">),</span> <span class="n">y</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">unique</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">unique</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">unique</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">unique</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[2.756e-16 2.078e+00 4.157e+00 6.235e+00]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Shift positions by half the atomic spacing (plus a tiny bit along m)</span>
<span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">unique</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">unique</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.05</span>
<span class="n">system</span><span class="o">.</span><span class="n">wrap</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Supersize</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ξ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">ξ</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">system</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">supersize</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">ξ</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">system</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">supersize</span><span class="p">((</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="k">elif</span> <span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">ξ</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">):</span>
    <span class="n">system</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">supersize</span><span class="p">((</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Plot xy cross section of atoms</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># plot original positions of atoms in system</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">m</span><span class="p">),</span> <span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.2._Volterra_dislocation_models_49_0.png" src="../_images/tutorial_04.2._Volterra_dislocation_models_49_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Compute displacements for all positions</span>
<span class="n">disp</span> <span class="o">=</span> <span class="n">solution</span><span class="o">.</span><span class="n">displacement</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>

<span class="c1"># Apply displacements to positions</span>
<span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span> <span class="o">+=</span> <span class="n">disp</span>

<span class="c1"># plot new positions of atoms in system</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">m</span><span class="p">),</span> <span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.2._Volterra_dislocation_models_50_0.png" src="../_images/tutorial_04.2._Volterra_dislocation_models_50_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="6.-General-case-considerations">
<h2>6. General case considerations<a class="headerlink" href="#6.-General-case-considerations" title="Permalink to this headline">¶</a></h2>
<p>Properly building atomistic systems with dislocations using the Stroh method requires careful considerations regarding the system orientation. This is complicated by the need to think in terms of multiple axes systems</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\([hkl]\)</span> crystal vectors are commonly used to define dislocation types and slip planes. These vectors are taken relative to the box vectors of a unit cell in a standard reference frame.</p></li>
<li><p>The atomistic system’s orientation is defined by specifying <span class="math notranslate nohighlight">\([hkl]\)</span> crystal vectors to coincide with the system’s <span class="math notranslate nohighlight">\(a_i\)</span>, <span class="math notranslate nohighlight">\(b_i\)</span>, <span class="math notranslate nohighlight">\(c_i\)</span> box vectors.</p></li>
<li><p>The atomic positions within the atomistic system are represented with Cartesian <span class="math notranslate nohighlight">\(x'_i\)</span> coordinates.</p></li>
<li><p>The elastic solution is defined for Cartesian <span class="math notranslate nohighlight">\(x_i\)</span> coordinates, where <span class="math notranslate nohighlight">\(x_2\)</span> is normal to the slip plane and <span class="math notranslate nohighlight">\(x_3\)</span> is parallel to the dislocation line.</p></li>
</ul>
<p>As the latter two are both Cartesian, <span class="math notranslate nohighlight">\(x_i\)</span> values are easily obtained from <span class="math notranslate nohighlight">\(x'_i\)</span> using transformation unit vectors <span class="math notranslate nohighlight">\(m_i\)</span> and <span class="math notranslate nohighlight">\(n_i\)</span></p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(x_1 = m_i x'_i\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(x_2 = n_i x'_i\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(x_3\)</span> values not needed as the elastic solution is invariant in that direction.</p></li>
</ul>
<p>Depending on the crystal structure and dislocation type, it is not always possible to construct a system with orthogonal box vectors. This means that the <span class="math notranslate nohighlight">\(a_i\)</span>, <span class="math notranslate nohighlight">\(b_i\)</span>, <span class="math notranslate nohighlight">\(c_i\)</span> box vectors will not necessarily align with the <span class="math notranslate nohighlight">\(x'_i\)</span> axes. For this general case, the following requirements and choices can help with orientation decisions</p>
<ul class="simple">
<li><p>The dislocation’s line direction must be parallel to one of the box vectors for the dislocation to remain infinitely straight.</p></li>
<li><p>For convenience, each of the elastic solution’s <span class="math notranslate nohighlight">\(x_i\)</span>-axes should map to one of the atomic system’s <span class="math notranslate nohighlight">\(x'_i\)</span>-axes. This is accomplished if both the dislocation line and the slip plane normal are oriented along <span class="math notranslate nohighlight">\(x'_i\)</span>-axes.</p></li>
</ul>
<p>With LAMMPS-compatible system boxes</p>
<ul class="simple">
<li><p>The <span class="math notranslate nohighlight">\(a_i\)</span> box vector is always aligned with the <span class="math notranslate nohighlight">\(x'_1\)</span>-axis, therefore the dislocation line should be parallel to the <span class="math notranslate nohighlight">\(a_i\)</span> vector / <span class="math notranslate nohighlight">\(x'_1\)</span>-axis.</p></li>
<li><p>The <span class="math notranslate nohighlight">\(a_i\)</span> and <span class="math notranslate nohighlight">\(b_i\)</span> box vectors have no component in the <span class="math notranslate nohighlight">\(x'_3\)</span> direction, i.e. the plane containing both <span class="math notranslate nohighlight">\(a_i\)</span> and <span class="math notranslate nohighlight">\(b_i\)</span> is normal to the <span class="math notranslate nohighlight">\(x'_3\)</span>-axis. The slip plane normal can then be taken as parallel to the <span class="math notranslate nohighlight">\(x'_3\)</span>-axis.</p></li>
<li><p>Related to the elastic solution, this makes <span class="math notranslate nohighlight">\(x_1\)</span> parallel to the <span class="math notranslate nohighlight">\(x'_2\)</span>-axis, <span class="math notranslate nohighlight">\(x_2\)</span> parallel to the <span class="math notranslate nohighlight">\(x'_3\)</span>-axis, and <span class="math notranslate nohighlight">\(x_3\)</span> parallel to the <span class="math notranslate nohighlight">\(x'_1\)</span>-axis. The corresponding <span class="math notranslate nohighlight">\(m_i\)</span> and <span class="math notranslate nohighlight">\(n_i\)</span> values are</p>
<ul>
<li><p><span class="math notranslate nohighlight">\(m_i = [0, 1, 0]\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n_i = [0, 0, 1]\)</span></p></li>
</ul>
</li>
</ul>
<div class="section" id="6.1-Dislocation-solution-for-arbitrary-crystal">
<h3>6.1 Dislocation solution for arbitrary crystal<a class="headerlink" href="#6.1-Dislocation-solution-for-arbitrary-crystal" title="Permalink to this headline">¶</a></h3>
<p>The dislocation solution itself does not have any limitations for arbitrary crystal families as long as</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Arbitary triclinic box (just for testing)</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mf">3.6</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">3.4</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mf">6.9</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">89</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mi">76</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">110</span><span class="p">)</span>

<span class="c1"># Keep &quot;face-centered&quot; coordinates because why not</span>
<span class="n">atoms</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">Atoms</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">]])</span>

<span class="n">ucell</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">System</span><span class="p">(</span><span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">,</span>
                  <span class="n">atoms</span><span class="o">=</span><span class="n">atoms</span><span class="p">,</span>
                  <span class="n">scale</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ucell</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 3.600,  0.000,  0.000]
bvect =  [-1.163,  3.195,  0.000]
cvect =  [ 1.669,  0.736,  6.654]
origin = [ 0.000,  0.000,  0.000]
natoms = 4
natypes = 1
symbols = (None,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   1.219 |   1.597 |   0.000
      2 |       1 |   2.635 |   0.368 |   3.327
      3 |       1 |   0.253 |   1.965 |   3.327
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Arbitary elastic constants (just for testing)</span>
<span class="n">cdict</span><span class="o">=</span><span class="p">{}</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C11&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">169</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C12&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C13&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">121</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C14&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C15&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C16&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C22&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">160</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C23&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">125</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C24&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">98</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C25&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C26&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C33&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">170</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C34&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">109</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C35&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C36&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C44&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C45&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C46&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C55&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">89</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C56&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">cdict</span><span class="p">[</span><span class="s1">&#39;C66&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">67</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">ElasticConstants</span><span class="p">(</span><span class="o">**</span><span class="n">cdict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">Cij</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">),</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[169. 122. 121. 101.   3.   1.]
 [122. 160. 125.  98.  -2.   4.]
 [121. 125. 170. 109.   2.   5.]
 [101.  98. 109.  75.  10.  12.]
 [  3.  -2.   2.  10.  89.  11.]
 [  1.   4.   5.  12.  11.  67.]] GPa
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Keep crystal definitions the same (everything else is junk anyways)</span>
<span class="n">burgers</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">slip_hkl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="c1"># The dislocation&#39;s line direction (ξ_uvw) determines character</span>
<span class="n">ξ_uvw</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Compute solution and show configuration (to prove it still works)</span>
<span class="n">solution</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">solve_volterra_dislocation</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">burgers</span><span class="p">,</span> <span class="n">ξ_uvw</span><span class="o">=</span><span class="n">ξ_uvw</span><span class="p">,</span> <span class="n">slip_hkl</span><span class="o">=</span><span class="n">slip_hkl</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Dislocation configuration:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;m:        &#39;</span><span class="p">,</span> <span class="n">solution</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;n:        &#39;</span><span class="p">,</span> <span class="n">solution</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ξ:        &#39;</span><span class="p">,</span> <span class="n">solution</span><span class="o">.</span><span class="n">ξ</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Burgers:  &#39;</span><span class="p">,</span> <span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">burgers</span><span class="p">,</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;|Burgers|:&#39;</span><span class="p">,</span> <span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">burgers</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Character:&#39;</span><span class="p">,</span> <span class="n">solution</span><span class="o">.</span><span class="n">characterangle</span><span class="p">(),</span> <span class="s1">&#39;degrees&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transformation matrix from standard orientation to dislocation orientation:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">solution</span><span class="o">.</span><span class="n">transform</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Dislocation configuration:
m:         [0. 1. 0.]
n:         [0. 0. 1.]
ξ:         [1. 0. 0.]
Burgers:   [-1.1    3.306  0.   ] angstrom
|Burgers|: 3.4839388709694843 angstrom
Character: 108.40344143799813 degrees

Transformation matrix from standard orientation to dislocation orientation:
[[ 0.656 -0.489  0.575]
 [ 0.51  -0.274 -0.815]
 [ 0.556  0.828  0.07 ]]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">uvws</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">dislocation_system_basis</span><span class="p">(</span><span class="n">ξ_uvw</span><span class="p">,</span> <span class="n">slip_hkl</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">,</span> <span class="n">maxindex</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uvws</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[ 1. -2.  1.]
 [ 3. -1. -2.]
 [ 1.  1.  0.]]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">system</span> <span class="o">=</span> <span class="n">ucell</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">uvws</span><span class="p">)</span>
<span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">2.0</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.05</span>
<span class="n">system</span><span class="o">.</span><span class="n">wrap</span><span class="p">()</span>
<span class="n">system</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">supersize</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">m</span><span class="p">),</span> <span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.2._Volterra_dislocation_models_59_0.png" src="../_images/tutorial_04.2._Volterra_dislocation_models_59_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Compute displacements for all positions</span>
<span class="n">disp</span> <span class="o">=</span> <span class="n">solution</span><span class="o">.</span><span class="n">displacement</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>

<span class="c1"># Apply displacements to positions</span>
<span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span> <span class="o">+=</span> <span class="n">disp</span>

<span class="c1"># plot new positions of atoms in system</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">m</span><span class="p">),</span> <span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.2._Volterra_dislocation_models_60_0.png" src="../_images/tutorial_04.2._Volterra_dislocation_models_60_0.png" />
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction to atomman: Volterra dislocation models</a><ul>
<li><a class="reference internal" href="#1.-Introduction">1. Introduction</a></li>
<li><a class="reference internal" href="#2.-Theory">2. Theory</a><ul>
<li><a class="reference internal" href="#2.1-Isotropic-solution">2.1 Isotropic solution</a></li>
<li><a class="reference internal" href="#2.2-Basics-of-the-Stroh-method">2.2 Basics of the Stroh method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#3.-Get-solution">3. Get solution</a><ul>
<li><a class="reference internal" href="#3.1-Specify-input-parameters">3.1 Specify input parameters</a><ul>
<li><a class="reference internal" href="#3.1.1-Cu-fcc-unit-cell">3.1.1 Cu fcc unit cell</a></li>
<li><a class="reference internal" href="#3.1.2-fcc-a/2&lt;10-1&gt;{111}-dislocation">3.1.2 fcc a/2&lt;10-1&gt;{111} dislocation</a></li>
<li><a class="reference internal" href="#3.1.3-Dislocation-system-orientation">3.1.3 Dislocation system orientation</a></li>
<li><a class="reference internal" href="#3.1.4-Elastic-constants">3.1.4 Elastic constants</a></li>
</ul>
</li>
<li><a class="reference internal" href="#3.2-Build-solution-and-check-configuration">3.2 Build solution and check configuration</a><ul>
<li><a class="reference internal" href="#3.2.1-Build-solution">3.2.1 Build solution</a></li>
<li><a class="reference internal" href="#3.2.2-Check-configuration-values">3.2.2 Check configuration values</a></li>
<li><a class="reference internal" href="#3.2.3-Show-underlying-solution-parameters">3.2.3 Show underlying solution parameters</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#4.-Derived-properties">4. Derived properties</a><ul>
<li><a class="reference internal" href="#4.1-Energy-coefficient-tensor,-K_tensor">4.1 Energy coefficient tensor, K_tensor</a><ul>
<li><a class="reference internal" href="#4.1.1-Isotropic">4.1.1 Isotropic</a></li>
<li><a class="reference internal" href="#4.1.2-Anisotropic">4.1.2 Anisotropic</a></li>
</ul>
</li>
<li><a class="reference internal" href="#4.2-Energy-coefficient,-K_coeff">4.2 Energy coefficient, K_coeff</a></li>
<li><a class="reference internal" href="#4.3-Pre-logarithmic-factor,-preln">4.3 Pre-logarithmic factor, preln</a></li>
<li><a class="reference internal" href="#4.4-displacements">4.4 displacements</a><ul>
<li><a class="reference internal" href="#4.4.1-Isotropic-equations">4.4.1 Isotropic equations</a></li>
<li><a class="reference internal" href="#4.4.2-Anisotropic-equations">4.4.2 Anisotropic equations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#4.5-stress">4.5 stress</a><ul>
<li><a class="reference internal" href="#4.5.1-Isotropic-equations">4.5.1 Isotropic equations</a></li>
<li><a class="reference internal" href="#4.5.2-Anisotropic-equations">4.5.2 Anisotropic equations</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#5.-Generate-dislocation-configuration">5. Generate dislocation configuration</a><ul>
<li><a class="reference internal" href="#5.1.-Start-with-a-unit-cell">5.1. Start with a unit cell</a></li>
<li><a class="reference internal" href="#5.2-Use-dislocation_system_basis-to-identify-the-rotation-crystal-vectors">5.2 Use dislocation_system_basis to identify the rotation crystal vectors</a></li>
<li><a class="reference internal" href="#5.3-Rotate-ucell-using-uvws">5.3 Rotate ucell using uvws</a></li>
<li><a class="reference internal" href="#5.4-Shift-atoms-off-of-the-slip-plane">5.4 Shift atoms off of the slip plane</a></li>
</ul>
</li>
<li><a class="reference internal" href="#6.-General-case-considerations">6. General case considerations</a><ul>
<li><a class="reference internal" href="#6.1-Dislocation-solution-for-arbitrary-crystal">6.1 Dislocation solution for arbitrary crystal</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="04.1._Point_defects.html"
                        title="previous chapter">Introduction to atomman: Point defect generation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="04.3._Dislocation_analysis_tools.html"
                        title="next chapter">Introduction to atomman: Dislocation analysis tools</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="04.3._Dislocation_analysis_tools.html" title="Introduction to atomman: Dislocation analysis tools"
             >next</a> |</li>
        <li class="right" >
          <a href="04.1._Point_defects.html" title="Introduction to atomman: Point defect generation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">atomman 1.3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Tutorials</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>