<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Introduction to atomman: Dislocation solution and generator &#8212; atomman 1.4.10 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="atomman package" href="../atomman.html" />
    <link rel="prev" title="Introduction to atomman: Strain class" href="4.8._Strain_class.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../atomman.html" title="atomman package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="4.8._Strain_class.html" title="Introduction to atomman: Strain class"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">atomman 1.4.10 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Tutorials</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Introduction to atomman: Dislocation solution and generator</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="Introduction-to-atomman:-Dislocation-solution-and-generator">
<h1>Introduction to atomman: Dislocation solution and generator<a class="headerlink" href="#Introduction-to-atomman:-Dislocation-solution-and-generator" title="Permalink to this heading">¶</a></h1>
<p><strong>Lucas M. Hale</strong>, <a class="reference external" href="mailto:lucas&#46;hale&#37;&#52;&#48;nist&#46;gov?Subject=ipr-demo">lucas<span>&#46;</span>hale<span>&#64;</span>nist<span>&#46;</span>gov</a>, <em>Materials Science and Engineering Division, NIST</em>.</p>
<p><a class="reference external" href="http://www.nist.gov/public_affairs/disclaimer.cfm">Disclaimers</a></p>
<section id="1.-Introduction">
<h2>1. Introduction<a class="headerlink" href="#1.-Introduction" title="Permalink to this heading">¶</a></h2>
<p>This Notebook outlines the Dislocation class in atomman that provides methods for generating a number of standard atomistic dislocation configurations.</p>
<ul class="simple">
<li><p>Section #2 details how dislocations are defined so that they can be used to construct the atomic systems.</p></li>
<li><p>Section #3 introduces the Dislocation class that provides a convenient means of constructing atomic configurations of dislocations.</p></li>
<li><p>Section #4 shows how the Dislocation class can be used to generate dislocation monopole configurations.</p></li>
<li><p>Section #5 shows how the Dislocation class can be used to generate periodic array of dislocations configurations.</p></li>
<li><p>Section #6 shows how the Dislocation class can be used to generate stable dislocation dipole configurations.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Standard Python libraries</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="c1"># http://www.numpy.org/</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># https://github.com/usnistgov/atomman</span>
<span class="kn">import</span> <span class="nn">atomman</span> <span class="k">as</span> <span class="nn">am</span>
<span class="kn">import</span> <span class="nn">atomman.unitconvert</span> <span class="k">as</span> <span class="nn">uc</span>

<span class="c1"># https://matplotlib.org/</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1"># Show atomman version</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;atomman version =&#39;</span><span class="p">,</span> <span class="n">am</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>

<span class="c1"># Show date of Notebook execution</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Notebook executed on&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "9b7463d0e71c4173b1778c4eddda7f28", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
atomman version = 1.4.10
Notebook executed on 2023-07-28
</pre></div></div>
</div>
</section>
<section id="2.-Theory">
<h2>2. Theory<a class="headerlink" href="#2.-Theory" title="Permalink to this heading">¶</a></h2>
<p>The Dislocation class provides methods for generating standard atomic configurations of dislocations that have been used to study dislocation core structures and the slip behaviors of individual dislocations. All of the generation methods supported by the Dislocation class follow the same four basic steps</p>
<ol class="arabic simple">
<li><p>The type of dislocation that is to be studied is defined for a particular crystal structure/prototype using crystallographic planes and vectors.</p></li>
<li><p>A dislocation solution is obtained based on the definition provided and other necessary materials properties.</p></li>
<li><p>The dislocation solution and atomic positions of the bulk crystal need to be properly aligned with each other.</p></li>
<li><p>One or more dislocations are inserted into the bulk crystal by displacing atoms according to the dislocation solution.</p></li>
<li><p>Boundary conditions are applied to accommodate the long range stress and strain fields generated by the dislocations.</p></li>
</ol>
<p>Steps 1-3 are core properties of the Dislocation class as they are common across all of the configuration methods, while 4+5 depend on the specific atomic configuration being generated.</p>
<section id="2.1.-Dislocation-definition">
<h3>2.1. Dislocation definition<a class="headerlink" href="#2.1.-Dislocation-definition" title="Permalink to this heading">¶</a></h3>
<p>The Dislocation class allows for different types of dislocations to be defined using crystallographic planes and vectors relative to a given crystal structure. Using crystallographic planes and vectors is convenient as</p>
<ul class="simple">
<li><p>this is how dislocations are typically defined by the materials science community,</p></li>
<li><p>it provides a convenient means of generalizing the methods for any crystal structure, and</p></li>
<li><p>the use of lattice vectors helps ensure that the resulting atomic configurations remain coherent across periodic boundaries.</p></li>
</ul>
<p>All of the atomic configurations are based on infinitely long, perfectly straight Volterra dislocations, and thus are fully defined with four parameter terms</p>
<ul class="simple">
<li><p>The atomic unit cell system that the other terms are defined relative to,</p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{b}_{[uvw]}\)</span>, the crystallographic [uvw] Burgers vector of the dislocation.</p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{n}_{(hkl)}\)</span>, the crystallographic (hkl) slip plane that the dislocation is in. For screw dislocations that can cross-slip, this should be the expected or wanted plane of slip.</p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{\xi}_{[uvw]}\)</span>, the crystallographic [uvw] vector for the dislocation line.</p></li>
</ul>
<p>The dislocation’s character (screw, edge, mixed) is given by the angle between the Burgers vector and the line vector. Screw dislocations have the line direction parallel to the Burgers vector, and therefore have a character angle of 0<span class="math notranslate nohighlight">\(^{\circ}\)</span> or 180<span class="math notranslate nohighlight">\(^{\circ}\)</span>, while edge dislocations have the two directions perpendicular for a character angle of 90<span class="math notranslate nohighlight">\(^{\circ}\)</span>. The allowed values of <span class="math notranslate nohighlight">\(\vec{\xi}_{[uvw]}\)</span> are limited to lattice vectors as all of the atomic
configurations treat the line direction as periodic. Note that this limits the dislocation character angles that can be explored.</p>
</section>
<section id="2.2.-Dislocation-solution">
<h3>2.2. Dislocation solution<a class="headerlink" href="#2.2.-Dislocation-solution" title="Permalink to this heading">¶</a></h3>
<p>A Volterra dislocation solution is obtained for each dislocation. The solution itself can be obtained from the dislocation definition parameters and the elastic constants relative to the unit cell. See <a class="reference external" href="4.4._Dislocation_solution_and_generator.html">4.4. Dislocation solution and generator</a> for more details on how the Volterra dislocation solutions are obtained.</p>
<p>The orientation of the dislocation solution with respect to the Cartesian coordinates of the final configuration is handled by specifying the dislocation solution axes <span class="math notranslate nohighlight">\(\hat{m}\)</span> and <span class="math notranslate nohighlight">\(\hat{n}\)</span> as Cartesian unit vectors. For simplicity, the Dislocation class restricts <span class="math notranslate nohighlight">\(\hat{m}\)</span>, <span class="math notranslate nohighlight">\(\hat{n}\)</span>, and <span class="math notranslate nohighlight">\(\hat{\xi} = \hat{m} \times \hat{n}\)</span> to each be aligned with one of the three Cartesian axes <span class="math notranslate nohighlight">\(\hat{x}\)</span>, <span class="math notranslate nohighlight">\(\hat{y}\)</span>, and <span class="math notranslate nohighlight">\(\hat{z}\)</span>, of the final atomic
configuration.</p>
</section>
<section id="2.3.-Atomic-orientation-of-the-dislocation">
<h3>2.3. Atomic orientation of the dislocation<a class="headerlink" href="#2.3.-Atomic-orientation-of-the-dislocation" title="Permalink to this heading">¶</a></h3>
<p>Creating the dislocation configurations requires properly aligning the crystal with the dislocation solution. The two major components of this are constructing a bulk rotated cell of the crystal that is properly oriented to the dislocation solution based on the dislocation definition terms, and positioning the dislocation core relative to the atoms in that cell.</p>
<section id="2.3.1.-Crystal-orientation">
<h4>2.3.1. Crystal orientation<a class="headerlink" href="#2.3.1.-Crystal-orientation" title="Permalink to this heading">¶</a></h4>
<p>The Cartesian slip plane normal with respect to the unit cell orientation, <span class="math notranslate nohighlight">\(\vec{n}_{ucell}\)</span>, is obtained from the crystallographic slip plane, <span class="math notranslate nohighlight">\(\vec{n}_{(hkl)}\)</span>. This is achieved by using the same <a class="reference external" href="https://doi.org/10.1016/j.susc.2013.05.016">Sun and Cedar</a> algorithm as is used by the FreeSurface generator for identifying the plane normals of the cut crystal planes. Three Miller crystal vectors are then identified based on <span class="math notranslate nohighlight">\(\vec{n}_{ucell}\)</span> and the dislocation definition
terms</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{\xi}_{[uvw]}\)</span>.</p></li>
<li><p>An in-plane vector with <span class="math notranslate nohighlight">\(|u|,|v|,|w|\)</span> values less than some maximum that is closest to perpendicular to <span class="math notranslate nohighlight">\(\vec{\xi}_{[uvw]}\)</span>.</p></li>
<li><p>An out-of-plane vector with <span class="math notranslate nohighlight">\(|u|,|v|,|w|\)</span> values less than some maximum that is closest to being parallel to <span class="math notranslate nohighlight">\(\vec{n}_{ucell}\)</span>.</p></li>
</ul>
<p>A rotated cell is then constructed in which the three box vectors of the rotated cell, <span class="math notranslate nohighlight">\(\vec{a}_{rot}\)</span>, <span class="math notranslate nohighlight">\(\vec{b}_{rot}\)</span>, and <span class="math notranslate nohighlight">\(\vec{c}_{rot}\)</span>, correspond to the above crystal vectors of the unit cell. Which particular crystal vector is assigned to which particular box vector depends on the Cartesian axes that <span class="math notranslate nohighlight">\(\hat{m}\)</span>, <span class="math notranslate nohighlight">\(\hat{n}\)</span> and <span class="math notranslate nohighlight">\(\hat{\xi}\)</span> correspond to</p>
<ul class="simple">
<li><p>In the final configuration, <span class="math notranslate nohighlight">\(\vec{a}_{rot}\)</span> has its primary component along the <span class="math notranslate nohighlight">\(\hat{x}\)</span>-axis, <span class="math notranslate nohighlight">\(\vec{b}_{rot}\)</span> along the <span class="math notranslate nohighlight">\(\hat{y}\)</span>-axis, and <span class="math notranslate nohighlight">\(\vec{c}_{rot}\)</span> along the <span class="math notranslate nohighlight">\(\hat{z}\)</span>-axis.</p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{\xi}_{[uvw]}\)</span> is positioned along the Cartesian axis that corresponds to <span class="math notranslate nohighlight">\(\hat{\xi}\)</span>. This alignment means that the associated box vector will only have a component along that Cartesian direction. For example, if <span class="math notranslate nohighlight">\(\hat{\xi}=\hat{x}\)</span>, then <span class="math notranslate nohighlight">\(\vec{a}_{rot}\)</span> will be parallel to the <span class="math notranslate nohighlight">\(\hat{x}\)</span>-axis.</p></li>
<li><p>The identified out-of-plane vector will correspond to the box vector with the primary component along the Cartesian axis specified by <span class="math notranslate nohighlight">\(\hat{n}\)</span>.</p></li>
<li><p>The identified in-plane vector is taken as the final box rotation vector. As this vector is necessarily normal to <span class="math notranslate nohighlight">\(\hat{n}\)</span>, it cannot have a component along the Cartesian axis associated with <span class="math notranslate nohighlight">\(\hat{n}\)</span>.</p></li>
</ul>
<p>Note that the out-of-plane vector need not be parallel to the slip plane normal. Rather, it simply needs to be the only box vector with a component in the <span class="math notranslate nohighlight">\(\hat{n}\)</span> direction. This is because the slip plane normal is defined by the cross product of the two in-plane vectors rather than the out-of-plane vector.</p>
<p>LAMMPS limits what box vectors are allowed in that <span class="math notranslate nohighlight">\(\vec{a}_{rot}\)</span> can only have an <span class="math notranslate nohighlight">\(\hat{x}\)</span> component, <span class="math notranslate nohighlight">\(\vec{b}_{rot}\)</span> can only have <span class="math notranslate nohighlight">\(\hat{x}\)</span> and <span class="math notranslate nohighlight">\(\hat{y}\)</span> components, and <span class="math notranslate nohighlight">\(\vec{c}_{rot}\)</span> can have components in all three directions. Because of this, the optimum orientation for LAMMPS is to have <span class="math notranslate nohighlight">\(\hat{m}=\hat{y}\)</span>, <span class="math notranslate nohighlight">\(\hat{n}=\hat{z}\)</span>, and <span class="math notranslate nohighlight">\(\hat{\xi}=\hat{x}\)</span>. This orientation allows for compatible dislocations to be constructed for any
crystal structure.</p>
</section>
<section id="2.3.2.-Note-for-conventional-unit-cells">
<h4>2.3.2. Note for conventional unit cells<a class="headerlink" href="#2.3.2.-Note-for-conventional-unit-cells" title="Permalink to this heading">¶</a></h4>
<p>One peculiarity of the above method is that the rotated box vectors, <span class="math notranslate nohighlight">\(\vec{a}_{rot}\)</span>, <span class="math notranslate nohighlight">\(\vec{b}_{rot}\)</span>, and <span class="math notranslate nohighlight">\(\vec{c}_{rot}\)</span>, are limited to Miller crystal vectors of the unit cell with integer indicies. This ensures that the rotated cell box vectors are always lattice vectors. However, if the unit cell is not a primitive cell then some lattice vectors cannot be used as they correspond to fractional Miller indices.</p>
<p>This limitation can be overcome by knowing what the lattice setting of the conventional unit cell is, i.e. face-centered, body-centered or side-centered. Using pre-defined tranformation matricies that reversibly convert Miller crystal vectors from the conventional setting to a primitive setting, a compatible primitive unit cell can be generated. Then, the above search algorithm can be performed relative to this primitive cell and any crystal vectors used can be converted between the two cell
representations. The rotated cell is then constructed based on the primitive cell and integer Miller vectors of the primitive cell, thus allowing for all lattice vectors.</p>
</section>
<section id="2.3.3.-Atomic-alignment">
<h4>2.3.3. Atomic alignment<a class="headerlink" href="#2.3.3.-Atomic-alignment" title="Permalink to this heading">¶</a></h4>
<p>Finally, the position of the dislocation core relative to the atomic coordinates is controlled by defining a rigid body shift, <span class="math notranslate nohighlight">\(\vec{\delta}\)</span>, to apply to the atoms in the rotated cell. Without a shift, atoms may be positioned on the slip plane where the Volterra solution’s displacements are discontinuous. Ideally, the shift should position the dislocation core to be halfway between two atomic planes that correspond to the slip plane. Depending on the dislocation type, it may also be
beneficial to control the initial position of the dislocation core within the slip plane.</p>
<p>One useful thing to do is to define the shift in reduced coordinates relative to the rotated cell. This allows for the same shift parameters to be used for that dislocation type in any crystal that corresponds to the same crystal prototype. Alternatively, the atoms in the rotated cell can be used to automatically identify shift values by finding the positions that are halfway between all the atomic slip planes. This allows for dislocations to be easily generated either from pre-defined
parameters or based on optimum shift recommendations.</p>
</section>
</section>
</section>
<section id="3.-Dislocation-initialization">
<h2>3. Dislocation initialization<a class="headerlink" href="#3.-Dislocation-initialization" title="Permalink to this heading">¶</a></h2>
<p>The Dislocation class is initialized by giving it parameters associated with the crystal information, dislocation definition, and shift parameters.</p>
<p><em>Updated version 1.4.8</em>: The ucell_setting option has been added.</p>
<p>Crystal parameters</p>
<ul class="simple">
<li><p><strong>ucell</strong> (<em>atomman.System</em>) The unit cell to use as the seed for generating the dislocation monopole system.</p></li>
<li><p><strong>C</strong> (<em>atomman.ElasticConstants</em>) The elastic constants associated with the bulk crystal structure for ucell.</p></li>
</ul>
<p>Dislocation parameters</p>
<ul class="simple">
<li><p><strong>burgers</strong> (<em>array-like object</em>) The dislocation’s Burgers vector given as a Miller or Miller-Bravais vector relative to ucell.</p></li>
<li><p><strong>ξ_uvw</strong> (<em>array-like object</em>) The dislocation’s line direction given as a Miller or Miller-Bravais vector relative to ucell.</p></li>
<li><p><strong>slip_hkl</strong> (<em>array-like object</em>) The dislocation’s slip plane given as a Miller or Miller-Bravais plane relative to ucell.</p></li>
<li><p><strong>m</strong> (<em>str or array-like object, optional</em>) The Cartesian axis to align with the dislocation solution’s m-axis, i.e. the in-plane direction perpendicular to the dislocation line. Can be specified as a 3D vector or str values ‘x’, ‘y’, or ‘z’. Default value is ‘y’ as this corresponds to the optimum alignment for LAMMPS systems.</p></li>
<li><p><strong>n</strong> (<em>str or array-like object, optional</em>) The Cartesian axis to align with the dislocation solution’s n-axis, i.e. the slip plane normal. Can be specified as a 3D vector or str values ‘x’, ‘y’, or ‘z’. Default value is ‘z’ as this corresponds to the optimum alignment for LAMMPS systems.</p></li>
<li><p><strong>tol</strong> (<em>float</em>) A cutoff tolerance used with obtaining the dislocation solution. Only needs to be changed if there are issues with obtaining a solution.</p></li>
</ul>
<p>Shift parameters</p>
<ul class="simple">
<li><p><strong>shift</strong> (<em>float, optional</em>) A rigid body shift to apply to the rotated cell prior to inserting the dislocation. Should be selected such that the ideal slip plane does not correspond to any atomic planes. Is taken as absolute if shiftscale is False, or relative to the rotated cell’s box vectors if shiftscale is True. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used.</p></li>
<li><p><strong>shiftindex</strong> (<em>float, optional</em>) The index of the identified optimum shifts based on the rotated cell to use. Different values allow for the selection of different atomic planes neighboring the slip plane. Note that shiftindex values only apply shifts normal to the slip plane; best shifts for non-planar dislocations (like bcc screw) may also need a shift in the slip plane. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used.</p></li>
<li><p><strong>shiftscale</strong> (<em>bool, optional</em>) If False (default), a given shift value will be taken as absolute Cartesian. If True, a given shift will be taken relative to the rotated cell’s box vectors.</p></li>
</ul>
<p>Other options</p>
<ul class="simple">
<li><p><strong>conventional_setting</strong> (<em>str, optional</em>) Indicates the space lattice setting of the given unit cell, i.e. p for primitive, i for body-centered, f for face-centered and a, b, or c for side-centered. Setting this with the appropriate conventional unit cell allows for identifying lattice vectors that are not integers with respect to the conventional unit cell. This also creates the rotated cell from a compatible primitive cell, thereby the final dislocation configurations can be smaller than
possible solely from the conventional unit cell.</p></li>
</ul>
<section id="3.1.-Define-an-Al-fcc-a/2&lt;110&gt;{111}-Dislocation">
<h3>3.1. Define an Al fcc a/2&lt;110&gt;{111} Dislocation<a class="headerlink" href="#3.1.-Define-an-Al-fcc-a/2<110>{111}-Dislocation" title="Permalink to this heading">¶</a></h3>
<p>Specify the materials properties</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Rough values for fcc Al</span>
<span class="n">alat</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mf">4.05</span><span class="p">,</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
<span class="n">C11</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C12</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C44</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>

<span class="c1"># Construct the unit cell from a prototype and specify the ucell setting</span>
<span class="n">conventional_setting</span> <span class="o">=</span> <span class="s1">&#39;f&#39;</span>
<span class="n">ucell</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;prototype&#39;</span><span class="p">,</span> <span class="s1">&#39;A1--Cu--fcc&#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">alat</span><span class="p">,</span> <span class="n">symbols</span><span class="o">=</span><span class="s1">&#39;Al&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ucell</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># Construct the elastic constants tensor</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">ElasticConstants</span><span class="p">(</span><span class="n">C11</span><span class="o">=</span><span class="n">C11</span><span class="p">,</span> <span class="n">C12</span><span class="o">=</span><span class="n">C12</span><span class="p">,</span> <span class="n">C44</span><span class="o">=</span><span class="n">C44</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cij (GPa) =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">Cij</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 4.050,  0.000,  0.000]
bvect =  [ 0.000,  4.050,  0.000]
cvect =  [ 0.000,  0.000,  4.050]
origin = [ 0.000,  0.000,  0.000]
natoms = 4
natypes = 1
symbols = (&#39;Al&#39;,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   0.000 |   2.025 |   2.025
      2 |       1 |   2.025 |   0.000 |   2.025
      3 |       1 |   2.025 |   2.025 |   0.000

Cij (GPa) =
[[105.  70.  70.   0.   0.   0.]
 [ 70. 105.  70.   0.   0.   0.]
 [ 70.  70. 105.   0.   0.   0.]
 [  0.   0.   0.  45.   0.   0.]
 [  0.   0.   0.   0.  45.   0.]
 [  0.   0.   0.   0.   0.  45.]]
</pre></div></div>
</div>
<p>Specify the dislocation type definition</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># FCC a/2&lt;101&gt;{111} dislocation</span>
<span class="n">burgers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">])</span>
<span class="n">slip_hkl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Line direction determines dislocation character</span>
<span class="n">character</span> <span class="o">=</span> <span class="s1">&#39;90-edge&#39;</span>

<span class="k">if</span> <span class="n">character</span> <span class="o">==</span> <span class="s1">&#39;90-edge&#39;</span><span class="p">:</span>
    <span class="n">ξ_uvw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
<span class="k">elif</span> <span class="n">character</span> <span class="o">==</span> <span class="s1">&#39;60-mixed&#39;</span><span class="p">:</span>
    <span class="n">ξ_uvw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="k">elif</span> <span class="n">character</span> <span class="o">==</span> <span class="s1">&#39;30-mixed&#39;</span><span class="p">:</span>
    <span class="n">ξ_uvw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">])</span>
<span class="k">elif</span> <span class="n">character</span> <span class="o">==</span> <span class="s1">&#39;0-screw&#39;</span><span class="p">:</span>
    <span class="n">ξ_uvw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>Initialize the Dislocation object using the above parameters</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fcc_disl</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">Dislocation</span><span class="p">(</span><span class="n">ucell</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">burgers</span><span class="p">,</span> <span class="n">ξ_uvw</span><span class="p">,</span> <span class="n">slip_hkl</span><span class="p">,</span> <span class="n">conventional_setting</span><span class="o">=</span><span class="n">conventional_setting</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="3.2.-Check-the-fcc-Dislocation">
<h3>3.2. Check the fcc Dislocation<a class="headerlink" href="#3.2.-Check-the-fcc-Dislocation" title="Permalink to this heading">¶</a></h3>
<p>The Dislocation object created has a number of attributes that make it possible to check the settings.</p>
<section id="3.2.1.-Volterra-dislocation-solution">
<h4>3.2.1. Volterra dislocation solution<a class="headerlink" href="#3.2.1.-Volterra-dislocation-solution" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>dislsol</strong> is the underlying VolterraDislocation solution.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;character angle = </span><span class="si">{</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">characterangle</span><span class="p">()</span><span class="si">}</span><span class="s1"> degrees&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;K_coeff = </span><span class="si">{</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">K_coeff</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;GPa&quot;</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1"> GPa&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;burgers =&#39;</span><span class="p">,</span> <span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">burgers</span><span class="p">,</span> <span class="s2">&quot;angstrom&quot;</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
character angle = 90.0 degrees
K_coeff = 46.862 GPa
burgers = [0.         2.86378246 0.        ] angstrom
</pre></div></div>
</div>
</section>
<section id="3.2.2.-Orientation-checks:">
<h4>3.2.2. Orientation checks:<a class="headerlink" href="#3.2.2.-Orientation-checks:" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p><strong>ucell</strong> is the reference conventional unit cell.</p></li>
<li><p><strong>ucell_prim</strong> is the reference primitive unit cell created based on ucell and the ucell_setting.</p></li>
<li><p><strong>rcell</strong> is the rotated cell that coincides with the dislocation solution orientation.</p></li>
<li><p><strong>uvws</strong> is a 3x3 array of the Miller [uvw] crystal vectors with respect to ucell that correspond to the box vectors of rcell.</p></li>
<li><p><strong>uvws_prim</strong> is a 3x3 array of the Miller [uvw] crystal vectors with respect to ucell_prim that correspond to the box vectors of rcell. Alternatively, these are the primitive unit cell vector representations of uvws.</p></li>
<li><p><strong>transform</strong> is the 3x3 Cartesian transformation matrix asociated with the rotation from ucell to rcell.</p></li>
<li><p><strong>lineindex</strong>, <strong>cutindex</strong>, and <strong>motionindex</strong> are integer indices that indicate how the uvws and rcell box vectors are aligned relative to the dislocation solution. These each have a unique value of 0, 1 or 2.</p>
<ul>
<li><p><strong>lineindex</strong> indicates which uvw/box vector corresponds to the line direction.</p></li>
<li><p><strong>cutindex</strong> indicates which uvw/box vector is most aligned with the dislocation solution’s n-axis, i.e. is out-of-plane. The name “cutindex” is used for consistency with the surface and stacking fault generation methods.</p></li>
<li><p><strong>motionindex</strong> indicates which uvw/box vector is most aligned with the dislocation solution’s m-axis. The name “motionindex” is due to the dislocation line moving in this direction during slip.</p></li>
</ul>
</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">ucell</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 4.050,  0.000,  0.000]
bvect =  [ 0.000,  4.050,  0.000]
cvect =  [ 0.000,  0.000,  4.050]
origin = [ 0.000,  0.000,  0.000]
natoms = 4
natypes = 1
symbols = (&#39;Al&#39;,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   0.000 |   2.025 |   2.025
      2 |       1 |   2.025 |   0.000 |   2.025
      3 |       1 |   2.025 |   2.025 |   0.000
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">ucell_prim</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 2.864,  0.000,  0.000]
bvect =  [ 1.432,  2.480,  0.000]
cvect =  [ 1.432,  0.827,  2.338]
origin = [ 0.000,  0.000,  0.000]
natoms = 1
natypes = 1
symbols = (&#39;Al&#39;,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">rcell</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 4.960,  0.000,  0.000]
bvect =  [ 0.000,  2.864,  0.000]
cvect =  [ 0.000,  0.000,  7.015]
origin = [ 0.000,  0.000,  0.000]
natoms = 6
natypes = 1
symbols = (&#39;Al&#39;,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   4.960 |   2.864 |   0.000
      1 |       1 |   2.480 |   1.432 |   0.000
      2 |       1 |   1.653 |   2.864 |   2.338
      3 |       1 |   0.827 |   1.432 |   4.677
      4 |       1 |   4.134 |   1.432 |   2.338
      5 |       1 |   3.307 |   2.864 |   4.677
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rotation uvws wrt ucell =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">uvws</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rotation uvws wrt ucell_prim =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">uvws_prim</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transformation matrix from ucell to rcell orientation =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">transform</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;lineindex =&#39;</span><span class="p">,</span> <span class="n">fcc_disl</span><span class="o">.</span><span class="n">lineindex</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cutindex =&#39;</span><span class="p">,</span> <span class="n">fcc_disl</span><span class="o">.</span><span class="n">cutindex</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;motionindex =&#39;</span><span class="p">,</span> <span class="n">fcc_disl</span><span class="o">.</span><span class="n">motionindex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Rotation uvws wrt ucell =
[[ 0.5 -1.   0.5]
 [ 0.5  0.  -0.5]
 [ 1.   1.   1. ]]

Rotation uvws wrt ucell_prim =
[[-1. -1.  2.]
 [ 1. -1.  0.]
 [ 1.  1.  1.]]

Transformation matrix from ucell to rcell orientation =
[[ 0.40824829 -0.81649658  0.40824829]
 [ 0.70710678  0.         -0.70710678]
 [ 0.57735027  0.57735027  0.57735027]]

lineindex = 0
cutindex = 2
motionindex = 1
</pre></div></div>
</div>
</section>
<section id="3.2.3.-Shift-terms">
<h4>3.2.3. Shift terms<a class="headerlink" href="#3.2.3.-Shift-terms" title="Permalink to this heading">¶</a></h4>
<p>Dislocation shift attributes</p>
<ul class="simple">
<li><p><strong>shifts</strong> provides a list of all “ideal” delta shift values that will position the slip plane halfway between two atomic planes. No in-plane shifting is done meaning that the dislocation might not be initially positioned at a low energy position on the slip plane. Depending on the crystal and orientation, some shifts may be symmetrically equivalent to others.</p></li>
<li><p><strong>shift</strong> is the shift value currently set. The default value is the first value in shifts.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Identified shifts =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fcc_disl</span><span class="o">.</span><span class="n">shifts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shift currently set to be used =&#39;</span><span class="p">,</span> <span class="n">fcc_disl</span><span class="o">.</span><span class="n">shift</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Identified shifts =
[[0.         0.         1.1691343 ]
 [0.         0.         3.50740289]
 [0.         0.         5.84567148]]

The shift currently set to be used = [0.        0.        1.1691343]
</pre></div></div>
</div>
</section>
</section>
<section id="3.3.-Define-an-Fe-bcc-a/2&lt;111&gt;{110}-screw-dislocation">
<h3>3.3. Define an Fe bcc a/2&lt;111&gt;{110} screw dislocation<a class="headerlink" href="#3.3.-Define-an-Fe-bcc-a/2<111>{110}-screw-dislocation" title="Permalink to this heading">¶</a></h3>
<p>Specify the materials properties</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Rough values for fcc Al</span>
<span class="n">alat</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mf">2.8665</span><span class="p">,</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
<span class="n">C11</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C12</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C44</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">115</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>

<span class="c1"># Construct the unit cell from a prototype and specify the ucell setting</span>
<span class="n">conventional_setting</span> <span class="o">=</span> <span class="s1">&#39;i&#39;</span>
<span class="n">ucell</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;prototype&#39;</span><span class="p">,</span> <span class="s1">&#39;A2--W--bcc&#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="n">alat</span><span class="p">,</span> <span class="n">symbols</span><span class="o">=</span><span class="s1">&#39;Fe&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ucell</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="c1"># Construct the elastic constants tensor</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">ElasticConstants</span><span class="p">(</span><span class="n">C11</span><span class="o">=</span><span class="n">C11</span><span class="p">,</span> <span class="n">C12</span><span class="o">=</span><span class="n">C12</span><span class="p">,</span> <span class="n">C44</span><span class="o">=</span><span class="n">C44</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cij (GPa) =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">Cij</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 2.866,  0.000,  0.000]
bvect =  [ 0.000,  2.866,  0.000]
cvect =  [ 0.000,  0.000,  2.866]
origin = [ 0.000,  0.000,  0.000]
natoms = 2
natypes = 1
symbols = (&#39;Fe&#39;,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   1.433 |   1.433 |   1.433

Cij (GPa) =
[[240. 150. 150.   0.   0.   0.]
 [150. 240. 150.   0.   0.   0.]
 [150. 150. 240.   0.   0.   0.]
 [  0.   0.   0. 115.   0.   0.]
 [  0.   0.   0.   0. 115.   0.]
 [  0.   0.   0.   0.   0. 115.]]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C11</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C12</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C44</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">115</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">ElasticConstants</span><span class="p">(</span><span class="n">C11</span><span class="o">=</span><span class="n">C11</span><span class="p">,</span> <span class="n">C12</span><span class="o">=</span><span class="n">C12</span><span class="p">,</span> <span class="n">C44</span><span class="o">=</span><span class="n">C44</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Specify the dislocation type definition and shift</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># bcc a/2&lt;111&gt;{110} dislocation</span>
<span class="n">burgers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
<span class="n">slip_hkl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Line direction determines dislocation character</span>
<span class="n">ξ_uvw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>

<span class="c1"># Normalized shift to center bcc screw at an easy core site</span>
<span class="n">shift</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.66666666666667</span><span class="p">])</span>
<span class="n">shiftscale</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<p>Initialize the Dislocation object using the above parameters</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bcc_disl</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">Dislocation</span><span class="p">(</span><span class="n">ucell</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">burgers</span><span class="p">,</span> <span class="n">ξ_uvw</span><span class="p">,</span> <span class="n">slip_hkl</span><span class="p">,</span>
                                 <span class="n">conventional_setting</span><span class="o">=</span><span class="n">conventional_setting</span><span class="p">,</span>
                                 <span class="n">shift</span><span class="o">=</span><span class="n">shift</span><span class="p">,</span> <span class="n">shiftscale</span><span class="o">=</span><span class="n">shiftscale</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="3.4.-Check-the-bcc-Dislocation">
<h3>3.4. Check the bcc Dislocation<a class="headerlink" href="#3.4.-Check-the-bcc-Dislocation" title="Permalink to this heading">¶</a></h3>
<p>The same parameters listed in 3.2. are now used to check the bcc dislocation.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;character angle = </span><span class="si">{</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">characterangle</span><span class="p">()</span><span class="si">}</span><span class="s1"> degrees&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;K_coeff = </span><span class="si">{</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">K_coeff</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;GPa&quot;</span><span class="p">)</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1"> GPa&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;burgers =&#39;</span><span class="p">,</span> <span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">burgers</span><span class="p">,</span> <span class="s2">&quot;angstrom&quot;</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
character angle = 0.0 degrees
K_coeff = 60.493 GPa
burgers = [2.48246182 0.         0.        ] angstrom
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">ucell</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 2.866,  0.000,  0.000]
bvect =  [ 0.000,  2.866,  0.000]
cvect =  [ 0.000,  0.000,  2.866]
origin = [ 0.000,  0.000,  0.000]
natoms = 2
natypes = 1
symbols = (&#39;Fe&#39;,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   1.433 |   1.433 |   1.433
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">ucell_prim</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 2.482,  0.000,  0.000]
bvect =  [-0.827,  2.340,  0.000]
cvect =  [-0.827, -1.170,  2.027]
origin = [ 0.000,  0.000,  0.000]
natoms = 1
natypes = 1
symbols = (&#39;Fe&#39;,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">rcell</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 2.482,  0.000,  0.000]
bvect =  [ 0.000,  7.021,  0.000]
cvect =  [ 0.000,  0.000,  4.054]
origin = [ 0.000,  0.000,  0.000]
natoms = 6
natypes = 1
symbols = (&#39;Fe&#39;,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.827 |   1.170 |   2.027
      1 |       1 |   0.000 |   7.021 |   0.000
      2 |       1 |   2.482 |   3.511 |   2.027
      3 |       1 |   1.655 |   2.340 |   0.000
      4 |       1 |   1.655 |   5.851 |   2.027
      5 |       1 |   0.827 |   4.681 |   0.000
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rotation uvws wrt ucell =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">uvws</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rotation uvws wrt ucell_prim =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">uvws_prim</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transformation matrix from ucell to rcell orientation =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">transform</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;lineindex =&#39;</span><span class="p">,</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">lineindex</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;cutindex =&#39;</span><span class="p">,</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">cutindex</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;motionindex =&#39;</span><span class="p">,</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">motionindex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Rotation uvws wrt ucell =
[[ 0.5  0.5  0.5]
 [-1.  -1.   2. ]
 [ 1.  -1.   0. ]]

Rotation uvws wrt ucell_prim =
[[ 1.  0.  0.]
 [ 1.  0.  3.]
 [-1. -2. -1.]]

Transformation matrix from ucell to rcell orientation =
[[ 0.57735027  0.57735027  0.57735027]
 [-0.40824829 -0.40824829  0.81649658]
 [ 0.70710678 -0.70710678  0.        ]]

lineindex = 0
cutindex = 2
motionindex = 1
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Identified shifts =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bcc_disl</span><span class="o">.</span><span class="n">shifts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shift currently set to be used =&#39;</span><span class="p">,</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">shift</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Identified shifts =
[[0.         0.         1.01346079]
 [0.         0.         3.04038238]]

The shift currently set to be used = [0.         0.         2.70256212]
</pre></div></div>
</div>
</section>
</section>
<section id="4.-Dislocation-Monopole-Configuration">
<h2>4. Dislocation Monopole Configuration<a class="headerlink" href="#4.-Dislocation-Monopole-Configuration" title="Permalink to this heading">¶</a></h2>
<p>A dislocation monopole is an atomic configuration that contains a single straight dislocation and has been used to study dislocation core structures and the critical resolved shear stress of dislocations that display non-Scmidt slip. The configuration is meant to provide a representation of an isolated straight dislocation in an otherwise bulk material.</p>
<section id="4.1.-Boundary-conditions">
<h3>4.1. Boundary conditions<a class="headerlink" href="#4.1.-Boundary-conditions" title="Permalink to this heading">¶</a></h3>
<p>The monopole configuration generated by the Dislocation class has the following boundary conditions</p>
<ul class="simple">
<li><p>The box direction parallel to the dislocation line is made periodic. The other two box directions are non-periodic.</p></li>
<li><p>A boundary region is defined that encompasses the atoms near the non-periodic boundaries. This region is identified by changing the atype values of the atoms in those geometric regions.</p></li>
</ul>
<p>As the Dislocation class simply generates the atomic configuration, it is left up to users to define how to relax the system and what conditions to apply to the boundary region. Typically, the atoms in the boundary region are held fixed while the remaining atoms near the core are relaxed using molecular dynamics steps and/or an energy or force minimization. Relaxations can either be rigid boundary relaxations or flexible boundary relaxations depending on if the boundary atoms are adjusted during
the relaxation process.</p>
<ul class="simple">
<li><p>A rigid boundary relaxation is one in which the boundary atoms are never adjusted after the initial system construction. As the atoms are held at the elastic dislocation solution, the initial positions tend to be a decent guess for dislocations with compact cores. However, a misfit force will arise at the interface between the boundary and non-boundary atoms that can influence the dislocation structure, energies and behavior. The influence of the misfit force can be minimized by increasing
the distance between the dislocation core and the boundary region, i.e. increasing the non-periodic dimensions. Also, note that the interaction with the boundary region will be greater for non-compact cores and if the dislocation moves from the center of the atomic configuration.</p></li>
<li><p>A flexible boundary relaxation is one in which the boundary atoms are subjected to an alternative relaxation method, such as the lattice Greens function. This alternative relaxation method allows for the misfit forces at the interface between the boundary and non-boundary atoms to be reduced while preventing the atoms at the non-periodic box boundaries from forming free surfaces. The flexible boundary reduces or eliminates the interaction between the core with the only limit being that the
dislocation core cannot cross/spread into the boundary region. As this makes it possible to generate smaller systems with less issues, the flexible boundary relaxation makes some dislocation monopoles accessible to DFT.</p></li>
</ul>
<p>The generation method provides two options for determining the shapes of the active and boundary regions: cylinder and box. The cylinder option defines the boundary region as all atoms outsize of a cylinder that has it axis centered on the dislocation core. The cylinder’s radius is selected such that the size of boundary region is always greater than or equal to a specified boundary width. The box option defines the boundary region simply as the atoms within a width distance from the edges of
the system in either of the two non-periodic directions. For the same number of atoms and boundary width, the box option allows for more atoms in the active region, and thus reduces the total boundary interaction. However, it also complicates the interaction as the shape of the boundary no longer matches the radial nature of the dislocation solution.</p>
</section>
<section id="4.2.-The-monopole()-method">
<h3>4.2. The monopole() method<a class="headerlink" href="#4.2.-The-monopole()-method" title="Permalink to this heading">¶</a></h3>
<p>The Dislocation class’ monopole method generates a monopole configuration based on the dislocation definition given when the object was initialized and the size, shift and boundary condition parameters listed below.</p>
<p>System size parameters</p>
<ul class="simple">
<li><p><strong>sizemults</strong> (<em>tuple, optional</em>) The size multipliers to use when generating the system. Values are limited to being positive integers. The multipliers for the two non-periodic directions must be even. If not given, the default multipliers will be 2 for the non-periodic directions and 1 for the periodic direction.</p></li>
<li><p><strong>amin</strong> (<em>float, optional</em>) A minimum thickness to use for the a box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both amin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
<li><p><strong>bmin</strong> (<em>float, optional</em>) A minimum thickness to use for the b box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both bmin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
<li><p><strong>cmin</strong> (<em>float, optional</em>) A minimum thickness to use for the c box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both cmin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
</ul>
<p>Shift parameters</p>
<ul class="simple">
<li><p><strong>shift</strong> (<em>float, optional</em>) A rigid body shift to apply to the rotated cell prior to inserting the dislocation. Should be selected such that the ideal slip plane does not correspond to any atomic planes. Is taken as absolute if shiftscale is False, or relative to the rotated cell’s box vectors if shiftscale is True. Cannot be given with shiftindex. If neither shift nor shiftindex is given will use the shift set during class initialization.</p></li>
<li><p><strong>shiftindex</strong> (<em>float, optional</em>) The index of the identified optimum shifts based on the rotated cell to use. Different values allow for the selection of different atomic planes neighboring the slip plane. Note that shiftindex values only apply shifts normal to the slip plane; best shifts for non-planar dislocations (like bcc screw) may also need a shift in the slip plane. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used then will use the
shift set during class initialization.</p></li>
<li><p><strong>shiftscale</strong> (<em>bool, optional</em>) If False (default), a given shift value will be taken as absolute Cartesian. If True, a given shift will be taken relative to the rotated cell’s box vectors.</p></li>
</ul>
<p>Boundary parameters</p>
<ul class="simple">
<li><p><strong>boundaryshape</strong> (<em>str, optional</em>) Indicates the shape of the boundary region to use. Options are ‘cylinder’ (default) and ‘box’. For ‘cylinder’, the non-boundary region is defined by a cylinder with axis along the dislocation line and a radius that ensures the boundary is at least boundarywidth thick. For ‘box’, the boundary region will be exactly boundarywidth thick all around.</p></li>
<li><p><strong>boundarywidth</strong> (<em>float, optional</em>) The width of the boundary region to apply. Default value is 0.0, i.e. no boundary region. All atoms in the boundary region will have their atype values changed.</p></li>
<li><p><strong>boundaryscale</strong> (<em>bool, optional</em>) If False (Default), the boundarywidth will be taken as absolute. If True, the boundarywidth will be taken relative to the magnitude of the unit cell’s a box vector.</p></li>
</ul>
<p>Return options</p>
<ul class="simple">
<li><p><strong>return_base_system</strong> (<em>bool, optional</em>) If True then the dislocation-free base system corresponding to the dislocation system will also be returned. The base system is used as a reference state for most of the dislocation analysis tools.</p></li>
</ul>
</section>
<section id="4.3.-bcc-screw-dislocation-monopole">
<h3>4.3. bcc screw dislocation monopole<a class="headerlink" href="#4.3.-bcc-screw-dislocation-monopole" title="Permalink to this heading">¶</a></h3>
<p>We’ll use the bcc dislocation as it is a compact core.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">monopole</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
                                             <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                             <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Plotting atomic positions reveals the boundary region shape</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="k">for</span> <span class="n">atype</span> <span class="ow">in</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atypes</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
             <span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_42_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_42_0.png" />
</div>
</div>
</section>
<section id="4.4.-Core-structure-observations">
<h3>4.4. Core structure observations<a class="headerlink" href="#4.4.-Core-structure-observations" title="Permalink to this heading">¶</a></h3>
<p>The core structure of the screw dislocation can be better observed with either the differential displacement map or the Nye tensor map. Here, we’ll demonstrate the differential displacement.</p>
<p><strong>NOTE</strong>: The differential displacement calculation requires proper mapping of the atoms between the base and dislocation systems, and between atoms in the systems with their identified neighbors. If the configuration is very “thin” along the periodic line direction, then some additional considerations are needed to properly compute the differential displacements</p>
<ul class="simple">
<li><p>The neighbor list method used by atomman only builds a list of unique neighbors for each atom. For systems with small periodic box vectors it is possible that neighbors of an atom can include periodic replicas of itself, or multiple replicas of another atom. These are excluded from the atomman list as they are not unique neighbor pairs.</p></li>
<li><p>The last point can be fixed by replicating the atomic configuration along the periodic direction before analyzing.</p></li>
<li><p><em>However</em>, the differential displacement algorithm needs the atom ids of the base and dislocation systems to directly correspond. To achieve this, the atomic positions of the dislocation system should remain unwrapped with respect to the base system until the supersize replication is performed.</p></li>
<li><p>If there is no way to retain the unwrapped coordinates during relaxing, you can try to work them out using atomman’s displacement calculation. Computing the displacement between the base and dislocation systems will give the shortest periodic distance between the same atoms in the two configurations. Then, you can generate an unwapped dislocation system by adding the displacements to the base system’s atomic positions.</p></li>
</ul>
<p><strong>WARNING</strong>: No atomic relaxation has been performed here! Depending on the potential used, the predicted core structure may appear differently!</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alat</span> <span class="o">=</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">ucell</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">a</span>
<span class="n">burgers</span> <span class="o">=</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">burgers</span>

<span class="c1"># Supersize the systems along the line direction</span>
<span class="n">big_base_system</span> <span class="o">=</span> <span class="n">base_system</span><span class="o">.</span><span class="n">supersize</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">big_disl_system</span> <span class="o">=</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">supersize</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Identify neighbors and compute dd</span>
<span class="n">neighbors</span> <span class="o">=</span> <span class="n">big_disl_system</span><span class="o">.</span><span class="n">neighborlist</span><span class="p">(</span><span class="n">cutoff</span> <span class="o">=</span> <span class="mf">0.9</span><span class="o">*</span><span class="n">alat</span><span class="p">)</span>
<span class="n">dd</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">DifferentialDisplacement</span><span class="p">(</span><span class="n">big_base_system</span><span class="p">,</span> <span class="n">big_disl_system</span><span class="p">,</span> <span class="n">neighbors</span><span class="o">=</span><span class="n">neighbors</span><span class="p">,</span> <span class="n">reference</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">burgers</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>

<span class="c1"># Set dict of keyword parameter values (just to make settings same for all plots below)</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;plotxaxis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;y&#39;</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;plotyaxis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;z&#39;</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;xlim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;ylim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;zlim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">alat</span><span class="o">*</span><span class="mi">3</span><span class="o">**</span><span class="mf">0.5</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">alat</span><span class="o">*</span><span class="mi">3</span><span class="o">**</span><span class="mf">0.5</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mf">0.01</span><span class="p">)</span> <span class="c1"># Should be one periodic width (plus a small cushion)</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>         <span class="c1"># Only one value as the other is chosen to make plots &quot;regular&quot;</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;arrowwidth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">75</span>    <span class="c1"># Made bigger to make arrows easier to see</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;arrowscale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.5</span>     <span class="c1"># Typically chosen to make arrows of length ddmax touch the corresponding atom circles</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dd</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">ddmax</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;x component&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_46_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_46_0.png" />
</div>
</div>
</section>
</section>
<section id="5.-Periodic-Array-of-Dislocations-Configuration">
<h2>5. Periodic Array of Dislocations Configuration<a class="headerlink" href="#5.-Periodic-Array-of-Dislocations-Configuration" title="Permalink to this heading">¶</a></h2>
<p>A periodic array of dislocations configuration is one in which the existing system contains a single dislocation and is periodic both in the line direction and the direction of dislocation motion. Due to the periodicity, the resulting configuration represents an infinite array of equally spaced straight dislocations of the same Burgers positioned on the same slip plane. These configurations are often used to study planar dislocations with wide cores, and can be used to observe slip behavior and
to measure the Peierls barrier.</p>
<section id="5.1.-Boundary-conditions">
<h3>5.1. Boundary conditions<a class="headerlink" href="#5.1.-Boundary-conditions" title="Permalink to this heading">¶</a></h3>
<p>The dislocation array configuration generated by the Dislocation class has the following boundary conditions</p>
<ul class="simple">
<li><p>The two box directions in the slip plane are made periodic while the out-of-plane box direction is non-periodic.</p></li>
<li><p>The system’s box vectors and the number of atoms within are adjusted to ensure atomic coherency across the periodic boundary associated with the dislocation motion direction.</p></li>
<li><p>A boundary region is identified at the non-periodic surface. The atoms in the boundary region are identified by changing their atype values, and are given coordinates that correspond to global linear displacements rather than the local dislocation displacements.</p></li>
</ul>
<section id="5.1.1.-Atomic-coherency">
<h4>5.1.1. Atomic coherency<a class="headerlink" href="#5.1.1.-Atomic-coherency" title="Permalink to this heading">¶</a></h4>
<p>The need to adjust the system for coherency across the periodic boundary is due to the nature of the dislocation displacement solution. Within the slip plane, the displacement solution on one side of the dislocation is discontinuous with the above and below limits differing by <span class="math notranslate nohighlight">\(\vec{b}\)</span>. On the opposite side of the dislocation, the displacement solution along the slip plane will be halfway between those two limits. Because of this, the atoms at the two opposite boundaries along the motion
direction will be displaced by <span class="math notranslate nohighlight">\(± \frac{\vec{b}}{2}\)</span> from each other. <span class="math notranslate nohighlight">\(\vec{b}\)</span> is typically an irreducible crystal vector meaning that <span class="math notranslate nohighlight">\(\frac{\vec{b}}{2}\)</span> is usually not and the atoms at the two boundaries do not result in a coherent crystal.</p>
<p>This difference in displacements can be corrected for by either adding or subtracting <span class="math notranslate nohighlight">\(\frac{\vec{b}}{2}\)</span> from the box vector most aligned with the dislocation motion direction. For pure screw dislocations, the sign of the adjustment does not matter and results in a tilt being added to the box vector. Note that this tilt only changes the periodic vector and does not introduce a shear to the system.</p>
<p>For pure edge dislocations, the sign of the adjustment does matter as the Burgers vector is aligned with the motion direction. This means that the length of the box vector will either be increased or decreased by the adjustment. Furthermore, atomic coherency of this adjustment also requires that a half-plane of atoms either be inserted or removed from the system. Removal of atoms is easier for atomic systems, so the adjustment is always taken such that it results in the box vector shrinking.
Identifying the half-plane of atoms to remove is non-trivial due to the non-linear nature of the dislocation solution displacements. The method used by the configuration generator is to first adjust the box boundaries, then identify pairs of atoms near the boundaries that have relative position vectors smaller than some small cutoff after taking the periodic boundary into consideration. One atom of each pair is then deleted. Validity of the half-plane removal can be checked by comparing the
number of atoms deleted to the number of atoms in the bulk crystal within the volume of the cell that was removed.</p>
<p>For mixed dislocations, the adjustments can be seen as a combination of the pure screw and pure edge case. The algorithm that works for all dislocation characters is to adjust the motion box vector by <span class="math notranslate nohighlight">\(-\left|\frac{\vec{b}}{2}\right |\)</span>, search for overlapping pairs of atoms at the boundaries and delete one of each pair, then check the number of deleted atoms against the expected number based on the volume change.</p>
</section>
<section id="5.1.2.-Linear-gradient-displacement">
<h4>5.1.2. Linear gradient displacement<a class="headerlink" href="#5.1.2.-Linear-gradient-displacement" title="Permalink to this heading">¶</a></h4>
<p>The non-periodic boundary of the dislocation array configuration is an interesting case. If the positions of the boundary atoms are not fixed, then it creates two free surfaces that can interact with the dislocations. Alternatively, if the atoms are fixed then you will have some elastic incompatibility at the boundaries that can interact with the dislocation. Fixing the atoms according to the dislocation solution is not favorable as it is based on having a compact dislocation at a certain
position in the system. This causes issue for slip calculations as the interaction between the dislocation and the boundary region will vary based on the dislocation’s position.</p>
<p>One alternative to this is to use a different displacement solution for the boundary region based on applying a linear gradient of displacements to all boundary atoms</p>
<div class="math notranslate nohighlight">
\[u_j = \frac{b_j}{2} - \text{sign}(x_2)\left[ \frac{x_1 b_j}{2l} + \frac{b_j}{4}\right],\]</div>
<p>where <span class="math notranslate nohighlight">\(l\)</span> is the full periodic length of the system in the <span class="math notranslate nohighlight">\(\hat{m}\)</span> direction. The sign switch indicates that the displacements in the two boundary regions are equal but opposite for a given <span class="math notranslate nohighlight">\(x\)</span> coordinate, i.e. the position along the motion direction. At the two <span class="math notranslate nohighlight">\(x\)</span> boundaries, the linear gradient displacements match the dislocation solution displacements on the slip plane.</p>
<p>Using the linear gradient of displacements for the boundary regions does not eliminate the misfit forces at the interface between the boundary region, and therefore there will still be interactions between the boundary region and the dislocation. However, that interaction will be independent of the dislocation’s position. The slip behavior of dislocations can therefore be studied by applying shear strains/stresses to the system by adding displacements/forces to the boundary atoms. Some examples:</p>
<ul class="simple">
<li><p>Quasistatic calculations in which energy/force relaxations are used after incremental displacements of the boundaries. This can be used to estimate the Peierls barrier, with good estimates requiring very small force relaxation tolerances and very small displacements at each iteration.</p></li>
<li><p>Strain-controlled simulations in which a constant displacement rate is applied to the boundary atoms. Simulations can either have rigid boundaries, in which the boundary atoms only move in the displacement direction, or free-surface boundaries, in which motion in the displacement direction is fixed but MD motions in perpendicular directions are allowed.</p></li>
<li><p>Stress-controlled simulations in which a constant force is applied to the boundary atoms. Simulations can either have rigid boundaries, in which the boundary is treated as a rigid block that the force acts on, or free-surface boundaries, in which the boundary atoms are subjected to MD steps but each has an extra constant force applied to it.</p></li>
</ul>
<p><strong>Note</strong> that for some dislocation types it may be preferable to generate the dislocation in the periodic array of dislocations configuration by using only the linear gradient displacement rather than a Volterra dislocation solution. If only the linear gradient displacement is used, it results in a system in which the disregistry along the slip plane will be linear and vary from 0 to <span class="math notranslate nohighlight">\(b\)</span>. For dislocations that split into partials with a wide stacking fault, this solution may actually be
closer to the final relaxed configuration than the compact dislocation core given by the Volterra solution. Furthermore, for screw dislocations that split into partials, practical experience shows that if you start with the Volterra solution that the dislocation often splits along a different slip plane than the intended one in the center of the system. Using only the linear gradient displacements ensures that the partials are split along the correct slip plane.</p>
</section>
</section>
<section id="5.2.-The-periodicarray()-method">
<h3>5.2. The periodicarray() method<a class="headerlink" href="#5.2.-The-periodicarray()-method" title="Permalink to this heading">¶</a></h3>
<p>The Dislocation class’ periodicarray method generates a periodic array of dislocations configuration based on the dislocation definition given when the object was initialized and the size, shift, boundary condition and method option parameters listed below.</p>
<p>System size parameters</p>
<ul class="simple">
<li><p><strong>sizemults</strong> (<em>tuple, optional</em>) The size multipliers to use when generating the system. Values are limited to being positive integers. The multipliers for the two non-periodic directions must be even. If not given, the default multipliers will be 2 for the non-periodic directions and 1 for the periodic direction.</p></li>
<li><p><strong>amin</strong> (<em>float, optional</em>) A minimum thickness to use for the a box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both amin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
<li><p><strong>bmin</strong> (<em>float, optional</em>) A minimum thickness to use for the b box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both bmin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
<li><p><strong>cmin</strong> (<em>float, optional</em>) A minimum thickness to use for the c box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both cmin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
</ul>
<p>Shift parameters</p>
<ul class="simple">
<li><p><strong>shift</strong> (<em>float, optional</em>) A rigid body shift to apply to the rotated cell prior to inserting the dislocation. Should be selected such that the ideal slip plane does not correspond to any atomic planes. Is taken as absolute if shiftscale is False, or relative to the rotated cell’s box vectors if shiftscale is True. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used.</p></li>
<li><p><strong>shiftindex</strong> (<em>float, optional</em>) The index of the identified optimum shifts based on the rotated cell to use. Different values allow for the selection of different atomic planes neighboring the slip plane. Note that shiftindex values only apply shifts normal to the slip plane; best shifts for non-planar dislocations (like bcc screw) may also need a shift in the slip plane. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used.</p></li>
<li><p><strong>shiftscale</strong> (<em>bool, optional</em>) If False (default), a given shift value will be taken as absolute Cartesian. If True, a given shift will be taken relative to the rotated cell’s box vectors.</p></li>
</ul>
<p>Boundary parameters</p>
<ul class="simple">
<li><p><strong>boundarywidth</strong> (<em>float, optional</em>) The width of the boundary region to apply. Default value is 0.0, i.e. no boundary region. All atoms in the boundary region will have their atype values changed and will be displaced by linear displacements.</p></li>
<li><p><strong>boundaryscale</strong> (<em>bool, optional</em>) If False (Default), the boundarywidth will be taken as absolute. If True, the boundarywidth will be taken relative to the magnitude of the unit cell’s a box vector.</p></li>
</ul>
<p>Method options</p>
<ul class="simple">
<li><p><strong>linear</strong> (<em>bool, optional</em>) If True, then only linear displacements will be used and not the dislocation solution. Using only linear displacements is useful for screw dislocations and dislocations with large stacking fault distances. If False (default) then the dislocation solution will be used for the middle displacements and linear displacements only in the boundary region.</p></li>
<li><p><strong>cutoff</strong> (<em>float, optional</em>) Cutoff distance to use for identifying duplicate atoms to remove. For dislocations with an edge component, applying the displacements creates an extra half-plane of atoms that will have (nearly) identical positions with other atoms after altering the boundary conditions. Default value is 0.5 Angstrom.</p></li>
</ul>
<p>Return options</p>
<ul class="simple">
<li><p><strong>return_base_system</strong> (<em>bool, optional</em>) If True then the dislocation-free base system corresponding to the dislocation system will also be returned. The base system is used as a reference state for most of the dislocation analysis tools.</p></li>
</ul>
</section>
<section id="5.3.-Small-atomic-system-example,-easy-to-see-atomic-positions">
<h3>5.3. Small atomic system example, easy to see atomic positions<a class="headerlink" href="#5.3.-Small-atomic-system-example,-easy-to-see-atomic-positions" title="Permalink to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">fcc_disl</span><span class="o">.</span><span class="n">periodicarray</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                                                  <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                  <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="k">for</span> <span class="n">atype</span> <span class="ow">in</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atypes</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
             <span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_51_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_51_0.png" />
</div>
</div>
</section>
<section id="5.4.-Large-atomic-system-example,-more-useful-for-simulations">
<h3>5.4. Large atomic system example, more useful for simulations<a class="headerlink" href="#5.4.-Large-atomic-system-example,-more-useful-for-simulations" title="Permalink to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">fcc_disl</span><span class="o">.</span><span class="n">periodicarray</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
                                                  <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                  <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="k">for</span> <span class="n">atype</span> <span class="ow">in</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atypes</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
             <span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">160</span><span class="p">,</span> <span class="mi">160</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_54_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_54_0.png" />
</div>
</div>
<p>For periodic arrays of dislocations, plotting the disregistry gives a good indication of the dislocation’s position and if it has split into partials.</p>
<p><strong>WARNING</strong>: No atomic relaxation has been performed here! Depending on the potential used, the predicted core structure may appear differently!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot disregistry</span>
<span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">disregistry</span><span class="p">(</span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">n</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;x-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;y-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;z-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">xi$-coordinate ($\AA$)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;disregistry ($\AA$)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-large&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_56_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_56_0.png" />
</div>
</div>
</section>
<section id="5.5.-Linear-gradient-displacements-only">
<h3>5.5. Linear gradient displacements only<a class="headerlink" href="#5.5.-Linear-gradient-displacements-only" title="Permalink to this heading">¶</a></h3>
<p>Here is a repeat of the two configurations above but using only the linear gradient displacements rather than the Volterra solution.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">fcc_disl</span><span class="o">.</span><span class="n">periodicarray</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                                                  <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                  <span class="n">linear</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                  <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="k">for</span> <span class="n">atype</span> <span class="ow">in</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atypes</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
             <span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_58_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_58_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">fcc_disl</span><span class="o">.</span><span class="n">periodicarray</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
                                                  <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                  <span class="n">linear</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                  <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Plot disregistry</span>
<span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">disregistry</span><span class="p">(</span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">n</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;x-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;y-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;z-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">xi$-coordinate ($\AA$)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;disregistry ($\AA$)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-large&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_59_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_59_0.png" />
</div>
</div>
</section>
</section>
<section id="6.-Dislocation-dipole-configuration">
<h2>6. Dislocation dipole configuration<a class="headerlink" href="#6.-Dislocation-dipole-configuration" title="Permalink to this heading">¶</a></h2>
<p><em>Added version 1.4.8</em></p>
<p>A dislocation dipole configuration is an atomic system that contains two parallel dislocations of opposite Burgers vectors. In particular, the configuration method used here corresponds to what is described in <a class="reference external" href="https://doi.org/10.1103/PhysRevB.70.104113">Li et al. Phys Rev B 70, 104113 (2004)</a>. This configuration has been used for atomistic and DFT investigations of compact dislocation cores as it generates a stable dislocation system with a small number of atoms.</p>
<section id="6.1.-Boundary-conditions">
<h3>6.1. Boundary conditions<a class="headerlink" href="#6.1.-Boundary-conditions" title="Permalink to this heading">¶</a></h3>
<p>The dislocation dipole configuration generated by the Dislocation class has the following boundary conditions</p>
<ul class="simple">
<li><p>All three box directions are periodic. As the system contains two parallel dislocations with opposite Burgers vectors, a Burgers circuit that encompasses both dislocations is zero. This means that the atoms across the periodic boundaries can be made coherent.</p></li>
<li><p>With all box directions periodic, the configuration represents a 2D grid of dislocations that are equally spaced in both the <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> directions. For rows of dislocations along the <span class="math notranslate nohighlight">\(x\)</span> direction, the dislocations will have alternating Burgers vectors.</p></li>
<li><p>As for the <span class="math notranslate nohighlight">\(y\)</span> columns of dislocations, two settings are possible. Without modification, all dislocations within a <span class="math notranslate nohighlight">\(y\)</span> column will have the same Burgers vector sign. Alternatively, a tilt of half of the motion direction box vector can be added to the out of plane box vector. This results in the dipole configuration being a reduced cell of a “quadripole” configuration in which each <span class="math notranslate nohighlight">\(y\)</span> column will contain dislocations of alternating Burgers vectors.</p></li>
<li><p>A strain is added to the system that balances the strain due to the work of inserting the dislocation dipole, thus making the configuration stable even at small sizes.</p></li>
</ul>
</section>
<section id="6.1.1.-2D-dislocation-grid-and-box-vectors">
<h3>6.1.1. 2D dislocation grid and box vectors<a class="headerlink" href="#6.1.1.-2D-dislocation-grid-and-box-vectors" title="Permalink to this heading">¶</a></h3>
<p>While the configuration is typically referred to as a “dipole” configuration as it contains two dislocations, it in fact represents a periodic “quadripole” arrangement of dislocations. Within the Cartesian system given by dislocation solution axes <span class="math notranslate nohighlight">\([m, n, \xi]\)</span>, the quadripole arrangement can be viewed as a 2D rectangular cell when projected along <span class="math notranslate nohighlight">\(\xi\)</span>. If the projected 2D cell has dimensions <span class="math notranslate nohighlight">\(l\)</span> and <span class="math notranslate nohighlight">\(h\)</span>, then the full 3D cell for the configuration has the following box
vectors</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{a}_{quad} = [l, 0, \xi_a]\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{b}_{quad} = [0, h, \xi_b]\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{c}_{quad} = [0, 0, \xi_c]\)</span></p></li>
</ul>
<p>where the <span class="math notranslate nohighlight">\(\xi_a\)</span>, <span class="math notranslate nohighlight">\(\xi_b\)</span>, and <span class="math notranslate nohighlight">\(\xi_c\)</span> terms are the components of the three box vectors along the line direction. As Volterra dislocation solutions are invariant along <span class="math notranslate nohighlight">\(\xi\)</span>, the <span class="math notranslate nohighlight">\(\xi_a\)</span>, <span class="math notranslate nohighlight">\(\xi_b\)</span>, and <span class="math notranslate nohighlight">\(\xi_c\)</span> terms do not affect the dislocation problem and are instead selected solely for crystal compatibility across periodic boundaries. Thus, for any crystal system, one can think of the dislocation system purely from the 2D cell perspective with
coordinates along the <span class="math notranslate nohighlight">\(m\)</span>- and <span class="math notranslate nohighlight">\(n\)</span>-axes.</p>
<p>The quadripole arrangement of dislocations is constructed by inserting four dislocations into the system such that they form a regular grid of dislocations with alternating Burgers vectors signs. One way to do this is to insert two dislocations with Burgers vector <span class="math notranslate nohighlight">\(\vec{b}\)</span> at positions <span class="math notranslate nohighlight">\([\frac{l}{4}, \frac{h}{4}]\)</span> and <span class="math notranslate nohighlight">\([\frac{3l}{4}, \frac{3h}{4}]\)</span> and insert two dislocations with Burgers vector <span class="math notranslate nohighlight">\(-\vec{b}\)</span> at positions <span class="math notranslate nohighlight">\([\frac{l}{4}, \frac{3h}{4}]\)</span> and
<span class="math notranslate nohighlight">\([\frac{3l}{4}, \frac{h}{4}]\)</span>. Each dislocation is surrounded by dislocations of opposite sign at distances of <span class="math notranslate nohighlight">\(\pm\frac{l}{2}\)</span> along the <span class="math notranslate nohighlight">\(m\)</span>-axis and <span class="math notranslate nohighlight">\(\pm\frac{h}{2}\)</span> along the <span class="math notranslate nohighlight">\(n\)</span>-axis. Due to this equal spacing, the interaction between any pair of dislocations is cancelled by a dislocation in the opposite direction, thus creating a stable configuration.</p>
<p>Li et al. showed that the rectangular quadripole configuration can be equivalently represented as a dipole configuration using a periodic cell of half the volume by taking advantage of the periodic boundaries. The 3D box vectors of this smaller dipole cell are</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{a}_{dipole} = \vec{a}_{quad}\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{b}_{dipole} = \frac{1}{2}\left( \vec{b}_{quad} + \vec{a}_{quad} + \vec{b} \right)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\vec{c}_{dipole} = \vec{c}_{quad}\)</span></p></li>
</ul>
<p>This results in a 2D cell projection along <span class="math notranslate nohighlight">\(\xi\)</span> that is a parallelogram.</p>
<p>The three terms that make up <span class="math notranslate nohighlight">\(\vec{b}_{dipole}\)</span> are key to this configuration working. The <span class="math notranslate nohighlight">\(\frac{1}{2}\vec{b}_{quad}\)</span> term results in the height of parallelogram being <span class="math notranslate nohighlight">\(\frac{h}{2}\)</span>, thus the parallelogram cell area is half of the rectangular cell area. The <span class="math notranslate nohighlight">\(\frac{1}{2}\vec{a}_{quad}\)</span> term defines the tilt of the parallelogram to be <span class="math notranslate nohighlight">\(\frac{l}{2}\)</span>, which results in all periodic replicas along the <span class="math notranslate nohighlight">\(n\)</span>-axis being offset by <span class="math notranslate nohighlight">\(\frac{l}{2}\)</span>. This periodic
offset ensures that the arrangement of dislocations remains a regular grid of alternating Burgers vectors. The final component, <span class="math notranslate nohighlight">\(\frac{1}{2}\vec{b}\)</span>, applies a strain to the system to balance the strain due to the work of inserting the dislocation dipole.</p>
</section>
<section id="6.2.-Dipole-displacement-field">
<h3>6.2. Dipole displacement field<a class="headerlink" href="#6.2.-Dipole-displacement-field" title="Permalink to this heading">¶</a></h3>
<p>The displacement field for the dislocation dipole is constructed by summing Volterra dislocation displacement solutions for individual dislocations. The process used here follows the work done by <a class="reference external" href="https://doi.org/10.1080/0141861021000051109">Cai et al. Phil Mag 83, 539 (2003)</a>. The total displacement solution for the periodic dipole configuration consists of three components</p>
<ol class="arabic simple">
<li><p>The displacement solution for a dislocation dipole in an infinite bulk medium.</p></li>
<li><p>The displacement solution from the dipoles in the periodic images.</p></li>
<li><p>A correction to ensure that the solution is coherent across the periodic boundaries.</p></li>
</ol>
</section>
<section id="6.2.1.-Dipole-in-an-infinite-medium">
<h3>6.2.1. Dipole in an infinite medium<a class="headerlink" href="#6.2.1.-Dipole-in-an-infinite-medium" title="Permalink to this heading">¶</a></h3>
<p>The displacement field of a dislocation dipole in an infinite medium can be constructed by adding the displacement fields of the two individual dislocations. This results in the displacement field necessary to create the dislocations from an otherwise bulk crystal plus an arbitrary rigid body displacement that depends on the particular form of the dislocation solution used.</p>
<p>For the Volterra solutions in atomman, the displacement field of a single dislocation has a radial solution in the mn-plane which results in the displacement field being zero for positions along the <span class="math notranslate nohighlight">\(m\)</span>-axis in the positive direction, and a discontinuity for positions along the <span class="math notranslate nohighlight">\(m\)</span>-axis in the negative direction where the limits from above and below are <span class="math notranslate nohighlight">\(\frac{\vec{b}}{2}\)</span> and <span class="math notranslate nohighlight">\(-\frac{\vec{b}}{2}\)</span>, respectively. For the dipole, one dislocation with with Burgers vector
<span class="math notranslate nohighlight">\(\vec{b}\)</span> is inserted at a position <span class="math notranslate nohighlight">\(m=-\frac{d}{2}, n=0\)</span> and the other dislocation with Burgers vector <span class="math notranslate nohighlight">\(-\vec{b}\)</span> is inserted at a position <span class="math notranslate nohighlight">\(m=\frac{d}{2}, n=0\)</span>. When the two displacement solutions are added together, the displacements along the <span class="math notranslate nohighlight">\(m\)</span>-axis for values <span class="math notranslate nohighlight">\(m&lt;-\frac{d}{2}\)</span> cancel each other out. This results in the displacement field along the <span class="math notranslate nohighlight">\(m\)</span>-axis being zero outside the two dislocations, and the discontinuity only existing between the two
dislocations.</p>
</section>
<section id="6.2.2.-Periodic-dipoles">
<h3>6.2.2. Periodic dipoles<a class="headerlink" href="#6.2.2.-Periodic-dipoles" title="Permalink to this heading">¶</a></h3>
<p>As the final configuration is a periodic array of dipoles, the displacements due to the dislocations in the image cells must also be accounted for. The displacement in the primary cell due to the dislocations in any arbitrary image cell can be computed using the above dipole solution and shifting the coordinates by the appropriate integer multiples of the two box vectors. Since the dislocation displacement fields decrease by an order of 1/r, the image cells closest to the primary cell matter the
most, so the total displacement field can be approximated by summing the dipole displacements across many of the closest image cells. These summations are typically done either over a rectangular grid or a spherical area centered around the primary cell.</p>
</section>
<section id="6.2.3.-Correction-term">
<h3>6.2.3. Correction term<a class="headerlink" href="#6.2.3.-Correction-term" title="Permalink to this heading">¶</a></h3>
<p>The displacement field for the periodic images will always be truncated based on the finite number of image cells included. The error to correct the displacement can be achieved in one of two ways: evaluate the displacement field computed for different numbers of image cells and extrapolate, or apply a linear correction such that the primary cell is coherent with its nearest images. The paper by Cai contains in-depth details about the convergence and the error of the periodic dipoles and shows
that the two correction methods are equivalent, with the latter being much simpler to compute.</p>
<p>The linear correction term can easily be evaluated by looking at the displacement field produced by the dipoles in the primary cell and a finite number of image cells. With the cell being periodic, a translation of one integer cell lattice vector should result in a position that is symmetrically equivalent to the original position. From this, it is easy to deduce that the displacement at the four corners of the 2D cell should be equivalent in order to be coherent across the periodic boundaries.
The linear correction can therefore be obtained from the difference in displacements at three of the corners.</p>
</section>
<section id="6.3.-The-dipole()-method">
<h3>6.3. The dipole() method<a class="headerlink" href="#6.3.-The-dipole()-method" title="Permalink to this heading">¶</a></h3>
<p>The Dislocation class’ dipole method generates a dislocation dipole configuration based on the dislocation definition given when the object was initialized and the size, shift and method option parameters listed below.</p>
<p><strong>NOTE</strong>: The way the system is generated allows for the same shift parameter values to be used for the dipole configuration as the other dislocation generation methods. For the dipole configuration, the shift is used to align the atomic coordinates with respect to the “left” dislocation in the dipole. If the nature of the dislocation depends on the <span class="math notranslate nohighlight">\(x\)</span> coordinate of the core, then care is needed with sizemults to ensure that the “right” dislocation is properly positioned.</p>
<p>System size parameters</p>
<ul class="simple">
<li><p><strong>sizemults</strong> (<em>tuple</em>) The three size multipliers to use when generating the system. Values should be positive integers if boxtilt is False. When boxtilt is True, the multipliers are limited to values that result in full lattice vectors once the tilt is added. Depending on the system, fractional values may be possible, or some integer values not allowed.</p></li>
</ul>
<p>Shift parameters</p>
<ul class="simple">
<li><p><strong>shift</strong> (<em>array-like object, optional</em>) A rigid body shift to apply to the rotated cell prior to inserting the dislocation. Should be selected such that the ideal slip plane does not correspond to any atomic planes. Is taken as absolute if shiftscale is False, or relative to the rotated cell’s box vectors if shiftscale is True. Cannot be given with shiftindex. If neither shift nor shiftindex is given will use the shift set during class initialization.</p></li>
<li><p><strong>shiftindex</strong> (<em>float, optional</em>) The index of the identified optimum shifts based on the rotated cell to use. Different values allow for the selection of different atomic planes neighboring the slip plane. Note that shiftindex values only apply shifts normal to the slip plane; best shifts for non-planar dislocations (like bcc screw) may also need a shift in the slip plane. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used then will use the
shift set during class initialization.</p></li>
<li><p><strong>shiftscale</strong> (<em>bool, optional</em>) If False (default), a given shift value will be taken as absolute Cartesian. If True, a given shift will be taken relative to the rotated cell’s box vectors.</p></li>
</ul>
<p>Method options</p>
<ul class="simple">
<li><p><strong>boxtilt</strong> (<em>bool, optional</em>) If True (default) then a tilt will be applied to the system such that the resulting periodic configuration will be consistent with a “quadripole” representation in which each dislocation will be surrounded by dislocations of the opposite sign in both the m- and n- directions. This is achieved by adding half of the box vector most aligned with the m-axis to the box vector most aligned with the n-axis. A value of False will not tilt the system, so only the
sizemults will be applied to the rotated cell. The non-tilted system will have dislocations of the same sign aligned along the n-axis.</p></li>
<li><p><strong>numreplicas</strong> (<em>int, optional</em>) Indicates how many image cells are used for computing the displacement field of the dipole. A rectangular grid of images is used meaning that there will be NxN total cells evaluated, of which NxN-1 will be image cells. Default value is 5.</p></li>
</ul>
<p>Return options</p>
<ul class="simple">
<li><p><strong>return_base_system</strong> (<em>bool, optional</em>) If True then the dislocation-free base system corresponding to the dislocation system will also be returned. The base system is used as a reference state for most of the dislocation analysis tools.</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">dipole</span><span class="p">(</span><span class="n">sizemults</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">],</span>
                                          <span class="n">boxtilt</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                                          <span class="n">return_base_system</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of atoms =&#39;</span><span class="p">,</span> <span class="n">base_system</span><span class="o">.</span><span class="n">natoms</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Number of atoms = 231
</pre></div></div>
</div>
<p>We can analyze the configuration with both the disregistry and with differential displacements.</p>
<p><strong>WARNING</strong>: No atomic relaxation has been performed here! Depending on the potential used, the predicted core structure may appear differently!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">disregistry</span><span class="p">(</span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">n</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;x-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;y-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xi</span><span class="p">,</span> <span class="n">disreg</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;z-disregistry&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$</span><span class="se">\\</span><span class="s1">xi$-coordinate ($\AA$)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;disregistry ($\AA$)&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="s1">&#39;x-large&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="s1">&#39;xx-large&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_64_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_64_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Supersize along the line direction</span>
<span class="n">big_base_system</span> <span class="o">=</span> <span class="n">base_system</span><span class="o">.</span><span class="n">supersize</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">big_disl_system</span> <span class="o">=</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">supersize</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alat</span> <span class="o">=</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">ucell</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">a</span>
<span class="n">burgers</span> <span class="o">=</span> <span class="n">bcc_disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">burgers</span>

<span class="c1"># Compute neighbors and dd</span>
<span class="n">neighbors</span> <span class="o">=</span> <span class="n">big_disl_system</span><span class="o">.</span><span class="n">neighborlist</span><span class="p">(</span><span class="n">cutoff</span> <span class="o">=</span> <span class="mf">0.9</span><span class="o">*</span><span class="n">alat</span><span class="p">)</span>
<span class="n">dd</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">DifferentialDisplacement</span><span class="p">(</span><span class="n">big_base_system</span><span class="p">,</span> <span class="n">big_disl_system</span><span class="p">,</span> <span class="n">neighbors</span><span class="o">=</span><span class="n">neighbors</span><span class="p">,</span> <span class="n">reference</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ddmax</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">burgers</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>   <span class="c1"># a/2&lt;111&gt; bcc dislocations useb|/2</span>

<span class="c1"># Set dict of keyword parameter values (just to make settings same for all plots below)</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;plotxaxis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;y&#39;</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;plotyaxis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;z&#39;</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;xlim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">35</span><span class="p">,</span> <span class="mi">35</span><span class="p">)</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;ylim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;zlim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">alat</span><span class="o">*</span><span class="mi">3</span><span class="o">**</span><span class="mf">0.5</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">alat</span><span class="o">*</span><span class="mi">3</span><span class="o">**</span><span class="mf">0.5</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mf">0.01</span><span class="p">)</span> <span class="c1"># Should be one periodic width (plus a small cushion)</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;figsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">20</span>         <span class="c1"># Only one value as the other is chosen to make plots &quot;regular&quot;</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;arrowwidth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">75</span>    <span class="c1"># Made bigger to make arrows easier to see</span>
<span class="n">params</span><span class="p">[</span><span class="s1">&#39;arrowscale&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.5</span>    <span class="c1"># Typically chosen to make arrows of length ddmax touch the corresponding atom circles</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dd</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">ddmax</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;x component&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_4.9._Dislocation_configurations_generator_68_0.png" src="../_images/tutorial_4.9._Dislocation_configurations_generator_68_0.png" />
</div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Introduction to atomman: Dislocation solution and generator</a><ul>
<li><a class="reference internal" href="#1.-Introduction">1. Introduction</a></li>
<li><a class="reference internal" href="#2.-Theory">2. Theory</a><ul>
<li><a class="reference internal" href="#2.1.-Dislocation-definition">2.1. Dislocation definition</a></li>
<li><a class="reference internal" href="#2.2.-Dislocation-solution">2.2. Dislocation solution</a></li>
<li><a class="reference internal" href="#2.3.-Atomic-orientation-of-the-dislocation">2.3. Atomic orientation of the dislocation</a><ul>
<li><a class="reference internal" href="#2.3.1.-Crystal-orientation">2.3.1. Crystal orientation</a></li>
<li><a class="reference internal" href="#2.3.2.-Note-for-conventional-unit-cells">2.3.2. Note for conventional unit cells</a></li>
<li><a class="reference internal" href="#2.3.3.-Atomic-alignment">2.3.3. Atomic alignment</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#3.-Dislocation-initialization">3. Dislocation initialization</a><ul>
<li><a class="reference internal" href="#3.1.-Define-an-Al-fcc-a/2&lt;110&gt;{111}-Dislocation">3.1. Define an Al fcc a/2&lt;110&gt;{111} Dislocation</a></li>
<li><a class="reference internal" href="#3.2.-Check-the-fcc-Dislocation">3.2. Check the fcc Dislocation</a><ul>
<li><a class="reference internal" href="#3.2.1.-Volterra-dislocation-solution">3.2.1. Volterra dislocation solution</a></li>
<li><a class="reference internal" href="#3.2.2.-Orientation-checks:">3.2.2. Orientation checks:</a></li>
<li><a class="reference internal" href="#3.2.3.-Shift-terms">3.2.3. Shift terms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#3.3.-Define-an-Fe-bcc-a/2&lt;111&gt;{110}-screw-dislocation">3.3. Define an Fe bcc a/2&lt;111&gt;{110} screw dislocation</a></li>
<li><a class="reference internal" href="#3.4.-Check-the-bcc-Dislocation">3.4. Check the bcc Dislocation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#4.-Dislocation-Monopole-Configuration">4. Dislocation Monopole Configuration</a><ul>
<li><a class="reference internal" href="#4.1.-Boundary-conditions">4.1. Boundary conditions</a></li>
<li><a class="reference internal" href="#4.2.-The-monopole()-method">4.2. The monopole() method</a></li>
<li><a class="reference internal" href="#4.3.-bcc-screw-dislocation-monopole">4.3. bcc screw dislocation monopole</a></li>
<li><a class="reference internal" href="#4.4.-Core-structure-observations">4.4. Core structure observations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#5.-Periodic-Array-of-Dislocations-Configuration">5. Periodic Array of Dislocations Configuration</a><ul>
<li><a class="reference internal" href="#5.1.-Boundary-conditions">5.1. Boundary conditions</a><ul>
<li><a class="reference internal" href="#5.1.1.-Atomic-coherency">5.1.1. Atomic coherency</a></li>
<li><a class="reference internal" href="#5.1.2.-Linear-gradient-displacement">5.1.2. Linear gradient displacement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#5.2.-The-periodicarray()-method">5.2. The periodicarray() method</a></li>
<li><a class="reference internal" href="#5.3.-Small-atomic-system-example,-easy-to-see-atomic-positions">5.3. Small atomic system example, easy to see atomic positions</a></li>
<li><a class="reference internal" href="#5.4.-Large-atomic-system-example,-more-useful-for-simulations">5.4. Large atomic system example, more useful for simulations</a></li>
<li><a class="reference internal" href="#5.5.-Linear-gradient-displacements-only">5.5. Linear gradient displacements only</a></li>
</ul>
</li>
<li><a class="reference internal" href="#6.-Dislocation-dipole-configuration">6. Dislocation dipole configuration</a><ul>
<li><a class="reference internal" href="#6.1.-Boundary-conditions">6.1. Boundary conditions</a></li>
<li><a class="reference internal" href="#6.1.1.-2D-dislocation-grid-and-box-vectors">6.1.1. 2D dislocation grid and box vectors</a></li>
<li><a class="reference internal" href="#6.2.-Dipole-displacement-field">6.2. Dipole displacement field</a></li>
<li><a class="reference internal" href="#6.2.1.-Dipole-in-an-infinite-medium">6.2.1. Dipole in an infinite medium</a></li>
<li><a class="reference internal" href="#6.2.2.-Periodic-dipoles">6.2.2. Periodic dipoles</a></li>
<li><a class="reference internal" href="#6.2.3.-Correction-term">6.2.3. Correction term</a></li>
<li><a class="reference internal" href="#6.3.-The-dipole()-method">6.3. The dipole() method</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="4.8._Strain_class.html"
                          title="previous chapter">Introduction to atomman: Strain class</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../atomman.html"
                          title="next chapter">atomman package</a></p>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../atomman.html" title="atomman package"
             >next</a> |</li>
        <li class="right" >
          <a href="4.8._Strain_class.html" title="Introduction to atomman: Strain class"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">atomman 1.4.10 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Tutorials</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Introduction to atomman: Dislocation solution and generator</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    </div>
  </body>
</html>