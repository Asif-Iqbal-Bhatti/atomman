
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Introduction to atomman: Dislocation class &#8212; atomman 1.3.4 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="atomman package" href="../atomman.html" />
    <link rel="prev" title="Introduction to atomman: Periodic array of dislocations" href="04.8._Periodic_array_of_dislocations.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../atomman.html" title="atomman package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="04.8._Periodic_array_of_dislocations.html" title="Introduction to atomman: Periodic array of dislocations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">atomman 1.3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Tutorials</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 7ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Introduction-to-atomman:-Dislocation-class">
<h1>Introduction to atomman: Dislocation class<a class="headerlink" href="#Introduction-to-atomman:-Dislocation-class" title="Permalink to this headline">¶</a></h1>
<p><strong>Lucas M. Hale</strong>, <a class="reference external" href="mailto:lucas&#46;hale&#37;&#52;&#48;nist&#46;gov?Subject=ipr-demo">lucas<span>&#46;</span>hale<span>&#64;</span>nist<span>&#46;</span>gov</a>, <em>Materials Science and Engineering Division, NIST</em>.</p>
<p><a class="reference external" href="http://www.nist.gov/public_affairs/disclaimer.cfm">Disclaimers</a></p>
<div class="section" id="1.-Introduction">
<h2>1. Introduction<a class="headerlink" href="#1.-Introduction" title="Permalink to this headline">¶</a></h2>
<p>This Notebook outlines the use of the Dislocation class that can be used to easily generate atomic configurations containing a perfectly straight dislocation. The class can construct the dislocation system to be either</p>
<ol class="arabic simple">
<li><p>a monopole configuration in which a single dislocation is inserted along one box axis and the other two directions are non-periodic with the expectation that the boundary atoms will be controlled by an elastic solution, or</p></li>
<li><p>a periodic array of dislocations configuration in which a single dislocation is created in a system that is periodic in the two box directions within the slip plane.</p></li>
</ol>
<p>This class relies on the use of the Volterra dislocation models for generating the initial dislocation configurations. See the <a class="reference external" href="04.2._Volterra_dislocation_models.html">04.2. Volterra dislocation models Jupyter Notebook</a> for more details on the theory and the Volterra solutions.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Standard Python libraries</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="c1"># http://www.numpy.org/</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># https://github.com/usnistgov/atomman</span>
<span class="kn">import</span> <span class="nn">atomman</span> <span class="k">as</span> <span class="nn">am</span>
<span class="kn">import</span> <span class="nn">atomman.unitconvert</span> <span class="k">as</span> <span class="nn">uc</span>

<span class="c1"># https://matplotlib.org/</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1"># Show atomman version</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;atomman version =&#39;</span><span class="p">,</span> <span class="n">am</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>

<span class="c1"># Show date of Notebook execution</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Notebook executed on&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
atomman version = 1.3.4
Notebook executed on 2020-09-17
</pre></div></div>
</div>
</div>
<div class="section" id="2.-Underlying-theory">
<h2>2. Underlying theory<a class="headerlink" href="#2.-Underlying-theory" title="Permalink to this headline">¶</a></h2>
<p>This class is meant to provide a simpler and more convenient means of generating dislocation monopole and periodic array of dislocations atomic configurations. The dislocation configurations generated by this class contain a single dislocation which is inserted into an otherwise perfect crystalline system by applying displacements corresponding to a dislocation solution. The boundary conditions are then handled differently based on whether the system is to be a dislocation monopole configuration
or a periodic array of dislocations configuration.</p>
<div class="section" id="2.1.-Dislocation-definition">
<h3>2.1. Dislocation definition<a class="headerlink" href="#2.1.-Dislocation-definition" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">A type of dislocation can be fully defined relative to a unit cell, ucell, by specifying the Miller slip plane, <span class="math notranslate nohighlight">\(n_{(hkl)}\)</span>, the Miller Burgers vector, <span class="math notranslate nohighlight">\(b_{[uvw]}\)</span>, and the Miller line direction, <span class="math notranslate nohighlight">\(\xi_{[uvw]}\)</span>. Defining dislocations using Miller planes and vectors rather than Cartesian planes and vectors is more convenient as the definitions hold true for all crystals associated with a given crystal prototype, and this is how dislocations are typically defined by materials
scientists.</div>
<div class="line">The dislocation’s character (screw, edge, mixed) is given by the angle between the Burgers vector and the line direction.</div>
</div>
<p>Atomic dislocation configurations require a few more parameters to uniquely define how the continuum-based dislocation solutions align with the discrete atomic positions. The orientation of the dislocation solution with respect to the final atomic configuration is handled by specifying the dislocation solution axes <span class="math notranslate nohighlight">\(m\)</span> and <span class="math notranslate nohighlight">\(n\)</span> as Cartesian unit vectors. For simplicity, this method reqiures that <span class="math notranslate nohighlight">\(\hat{m}\)</span>, <span class="math notranslate nohighlight">\(\hat{n}\)</span>, and <span class="math notranslate nohighlight">\(\hat{\xi} = \hat{m} \times \hat{n}\)</span> are
aligned with the three Cartesian axes. A rigid body shift, <span class="math notranslate nohighlight">\(\delta\)</span> is also defined that adjusts the atomic positions such that the mathematical position of the dislocation line and/or slip plane can be properly placed relative to the atoms.</p>
<p>The slip plane normal relative to the unit cell, <span class="math notranslate nohighlight">\(n_{ucell}\)</span>, is identified by converting <span class="math notranslate nohighlight">\(n_{(hkl)}\)</span> into Cartesian units. Using <span class="math notranslate nohighlight">\(n_{ucell}\)</span>, three Miller crystal vectors are identified that determine how to rotate the unit cell</p>
<ul class="simple">
<li><p>The Miller vector <span class="math notranslate nohighlight">\(\xi_{[uvw]}\)</span>.</p></li>
<li><p>The Miller vector with <span class="math notranslate nohighlight">\(|u|,|v|,|w|\)</span> values less than some maximum in the slip plane that is closest to perpendicular to <span class="math notranslate nohighlight">\(\xi_{[uvw]}\)</span>.</p></li>
<li><p>The Miller vector with <span class="math notranslate nohighlight">\(|u|,|v|,|w|\)</span> values less than some maximum that is closest to being parallel to <span class="math notranslate nohighlight">\(n_{ucell}\)</span>.</p></li>
</ul>
<p>The values of <span class="math notranslate nohighlight">\(\hat{m}\)</span>, <span class="math notranslate nohighlight">\(\hat{n}\)</span> and <span class="math notranslate nohighlight">\(\hat{\xi}\)</span> determine how these three Miller vectors are associated with the box rotation vectors, <span class="math notranslate nohighlight">\(a_{[uvw]}\)</span>, <span class="math notranslate nohighlight">\(b_{[uvw]}\)</span>, and <span class="math notranslate nohighlight">\(c_{[uvw]}\)</span>.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\hat{\xi}\)</span> determines which axis, <span class="math notranslate nohighlight">\(x, y, z\)</span>, and which respective box vector, <span class="math notranslate nohighlight">\(a_{rcell}, b_{rcell}, c_{rcell}\)</span>, that <span class="math notranslate nohighlight">\(\xi_{[uvw]}\)</span> is associated with.</p></li>
<li><p><span class="math notranslate nohighlight">\(\hat{n}\)</span> determines which axis, <span class="math notranslate nohighlight">\(x, y, z\)</span>, that the slip plane is normal to, and which respective box vector, <span class="math notranslate nohighlight">\(a_{rcell}, b_{rcell}, c_{rcell}\)</span> that the out-of-plane Miller vector is associated with. Note that the out-of-plane vector need not be parallel to the slip plane normal, rather it simply be the only box vector with a component in the <span class="math notranslate nohighlight">\(\hat{n}\)</span> direction.</p></li>
</ul>
<p>A rotated cell, rcell, is then created using ucell and the rotation vectors. This rotated cell serves as the seed for constructing the larger atomic configurations in which the dislocation is inserted. As rcell is constructed, the Cartesian transformation matrix, <span class="math notranslate nohighlight">\(T\)</span>, associated with transforming from the ucell orientation to the rcell orientation is also identified. <span class="math notranslate nohighlight">\(T\)</span> is then used to convert <span class="math notranslate nohighlight">\(b_{[uvw]}\)</span> to the Cartesian <span class="math notranslate nohighlight">\(b\)</span> vector.</p>
<p>The rigid body shift, <span class="math notranslate nohighlight">\(\delta\)</span>, is defined relative to rcell as it is applied to the atoms in the rotated state. For dislocations defined relative to crystal prototypes, <span class="math notranslate nohighlight">\(\delta\)</span> can be expressed in reduced coordinates relative to ucell. Alternatively, rcell itself can be used to identify shifts normal to the slip plane that place the mathematical slip plane halfway between all atomic planes in rcell. This allows for dislocations to be easily generated either from pre-defined
parameters or based on optimum shift reccomendations.</p>
</div>
<div class="section" id="2.2.-Dislocation-solutions">
<h3>2.2. Dislocation solutions<a class="headerlink" href="#2.2.-Dislocation-solutions" title="Permalink to this headline">¶</a></h3>
<p>Dislocation configurations are created by building perfect crystal base systems by replicating rcell along the box vectors, then displacing the atomic positions according to a dislocation solution. For the dislocation monopole configuration, the elastic solution for a straight Volterra dislocation is used. More information on the Volterra dislocation solutions can be found in the <a class="reference external" href="04.2._Volterra_dislocation_models.html">04.2. Volterra dislocation models Notebook</a>.</p>
<p>For the periodic array of dislocations configuration, either a linear displacement solution or a combination of linear displacements and a straight Volterra solution is used. The linear displacement solution applies a linear gradient of displacements to atoms in the system based on their coordinates <span class="math notranslate nohighlight">\(m\)</span> and <span class="math notranslate nohighlight">\(n\)</span> along the corresponding dislocation solution axes</p>
<div class="math notranslate nohighlight">
\[\vec{d}_{lin}(m, n) = \frac{\vec{b}}{2} - \text{sign}(n)\left[ \frac{m\vec{b}}{2l} + \frac{\vec{b}}{4}\right],\]</div>
<p>where <span class="math notranslate nohighlight">\(l\)</span> is the full periodic length of the system in the <span class="math notranslate nohighlight">\(\hat{m}\)</span> direction. By applying opposite displacements above and below the slip plane, the atomic disregistry linearly varies from 0 to <span class="math notranslate nohighlight">\(b\)</span> across the system. While this does not give a good approximation of a real dislocation, it does have a couple of benefits besides its simplicity. First, the solution is independent of the dislocation’s position along the slip plane. This makes it a good choice of displacements for
the non-periodic surfaces if the atoms are held rigidly as the interaction between the dislocation and the boundaries will remain constant as the dislocation moves. Also, since <span class="math notranslate nohighlight">\(\vec{d}_{lin}\)</span> depends on <span class="math notranslate nohighlight">\(\text{sign}(n)\)</span> rather than <span class="math notranslate nohighlight">\(n\)</span> the solution on each side of the slip plane only depends on <span class="math notranslate nohighlight">\(m\)</span>.</p>
</div>
<div class="section" id="2.3.-Boundary-conditions">
<h3>2.3. Boundary conditions<a class="headerlink" href="#2.3.-Boundary-conditions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="2.3.1.-Dislocation-monopoles">
<h4>2.3.1. Dislocation monopoles<a class="headerlink" href="#2.3.1.-Dislocation-monopoles" title="Permalink to this headline">¶</a></h4>
<p>A dislocation monopole is an atomic configuration that contains a single straight dislocation.</p>
<ul class="simple">
<li><p>The box direction parallel to the dislocation line is made periodic. The other two box directions are non-periodic.</p></li>
<li><p>A boundary region is defined that encompases the atoms near the non-periodic boundaries. This region is identified by changing the atype values of the atoms in those geometric regions.</p></li>
</ul>
<p>The Dislocation class constructs the atomic configurations but leaves it up to users to define how to relax the system. Typically, monopole systems are relaxed using MD steps and/or energy/force minimizations that operate on the atoms not in the boundary regions, while atoms in the boundaries are held fixed. From there, two types of relaxations are described as having “rigid” or “flexible” boundaries.</p>
<p>A rigid boundary relaxation is one in which the boundary atoms are never adjusted after the initial system construction. As the atoms are held at a dislocation solution, the initial positions tend to be a decent guess for dislocations with compact cores. However, a misfit force will arise at the interface between the boundary and non-boundary atoms that can influence the dislocation structure, energies and behavior. The influence of the misfit force can be minimized by constructing large atomic
configurations and keeping investigations to dislocations with compact cores that remain positioned near the center of the systems.</p>
<p>A flexible boundary relaxation is one in which the boundary atoms are subjected to an alternative relaxation method, such as the lattice Greens function. This alternative relaxation method allows for the misfit forces at the interface betweeen the boundary and non-boundary atoms to be reduced while preventing the atoms at the non-periodic box boundaries from forming free surfaces. This method is preferred for expensive atomistic methods like DFT as it gives good structure predictions as long as
the dislocation core itself remains in the non-boundary region.</p>
</div>
<div class="section" id="2.3.2.-Periodic-array-of-dislocations">
<h4>2.3.2. Periodic array of dislocations<a class="headerlink" href="#2.3.2.-Periodic-array-of-dislocations" title="Permalink to this headline">¶</a></h4>
<p>A periodic array of dislocations atomic configuration is one in which the system itself only contains one dislocation, but the system’s box boundary conditions are such that it represents an infinite array of equally spaced dislocations.</p>
<ul class="simple">
<li><p>The two box directions in the slip plane are made periodic while the out-of-plane box direction is non-periodic.</p></li>
<li><p>The box dimensions are modified to ensure that the atoms remain compatible and coherent across the two periodic box directions.</p></li>
<li><p>For dislocations with edge components, the atomic compatibility requires that a half-plane of atoms either be inserted or deleted. This is handled here by shrinking the box dimensions and identifying the half-plane of atoms to delete as those that have nearly identical positions with other atoms in the shrunken system.</p></li>
<li><p>A boundary region is identified at the non-periodic surface. The atoms in the boundary region are identified by changing their atype values, and are given coordinates that correspond to the global linear displacements rather than the local dislocation displacements.</p></li>
</ul>
<p>The choice of displacing the atoms in the boundary region by a linear gradient of displacements rather than the dislocation solution displacements is done as the linear gradient is independent of the dislocation’s position. Yes, there will be misfit forces at the interface between the boundary and non-boundary regions, but those forces will be (mostly) independent of the dislocation’s position in the system. The slip behavior of dislocations can therefore be studied by applying shear
strains/stresses to the system by adding displacements/forces to the boundary atoms. Some examples:</p>
<ul class="simple">
<li><p>Quasistatic calculations in which energy/force relaxations are used after incremental displacements of the boundaries. This can be used to estimate the Peierls barrier, with good estimates requiring very small force relaxation tolerances and very small displacements at each iteration.</p></li>
<li><p>Strain-controlled simulations in which a constant displacement rate is applied to the boundary atoms. Simulations can either have rigid boundaries, in which the boundary atoms only move in the displacement direction, or free-surface boundaries, in which motion in the displacement direction is fixed but MD motions in perpendicular directions are allowed.</p></li>
<li><p>Stress-controlled simulations in which a constant force is applied to the boundary atoms. Simulations can either have rigid boundaries, in which the boundary is treated as a rigid block that the force acts on, or free-surface boundaries, in which the boundary atoms are subjected to MD steps but each has an extra constant force applied to it.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="3.-Dislocation-initialization">
<h2>3. Dislocation initialization<a class="headerlink" href="#3.-Dislocation-initialization" title="Permalink to this headline">¶</a></h2>
<p>The Dislocation class is initialized by giving it parameters associated with the crystal information and the dislocation definition.</p>
<p>Crystal parameters</p>
<ul class="simple">
<li><p><strong>ucell</strong> (<em>atomman.System</em>) The unit cell to use as the seed for generating the dislocation monopole system.</p></li>
<li><p><strong>C</strong> (<em>atomman.ElasticConstants</em>) The elastic constants associated with the bulk crystal structure for ucell.</p></li>
</ul>
<p>Dislocation parameters</p>
<ul class="simple">
<li><p><strong>burgers</strong> (<em>array-like object</em>) The dislocation’s Burgers vector given as a Miller or Miller-Bravais vector relative to ucell.</p></li>
<li><p><strong>ξ_uvw</strong> (<em>array-like object</em>) The dislocation’s line direction given as a Miller or Miller-Bravais vector relative to ucell.</p></li>
<li><p><strong>slip_hkl</strong> (<em>array-like object</em>) The dislocation’s slip plane given as a Miller or Miller-Bravais plane relative to ucell.</p></li>
<li><p><strong>m</strong> (<em>array-like object, optional</em>) The m unit vector for the dislocation solution. m, n, and ξ (dislocation line) should be right-hand orthogonal. Default value is [0,1,0] (y-axis).</p></li>
<li><p><strong>n</strong> (<em>array-like object, optional</em>) The n unit vector for the dislocation solution. m, n, and ξ (dislocation line) should be right-hand orthogonal. Default value is [0,0,1] (z-axis). n is normal to the dislocation slip plane.</p></li>
<li><p><strong>tol</strong> (<em>float</em>) A cutoff tolerance used with obtaining the dislocation solution. Only needs to be changed if there are issues with obtaining a solution.</p></li>
</ul>
<p>Shift parameters</p>
<ul class="simple">
<li><p><strong>shift</strong> (<em>float, optional</em>) A rigid body shift to apply to the rotated cell prior to inserting the dislocation. Should be selected such that the ideal slip plane does not correspond to any atomic planes. Is taken as absolute if shiftscale is False, or relative to the rotated cell’s box vectors if shiftscale is True. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used.</p></li>
<li><p><strong>shiftindex</strong> (<em>float, optional</em>) The index of the identified optimum shifts based on the rotated cell to use. Different values allow for the selection of different atomic planes neighboring the slip plane. Note that shiftindex values only apply shifts normal to the slip plane; best shifts for non-planar dislocations (like bcc screw) may also need a shift in the slip plane. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used.</p></li>
<li><p><strong>shiftscale</strong> (<em>bool, optional</em>) If False (default), a given shift value will be taken as absolute Cartesian. If True, a given shift will be taken relative to the rotated cell’s box vectors.</p></li>
</ul>
<p>Define the crystal information: ucell and C</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ucell</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;prototype&#39;</span><span class="p">,</span> <span class="s1">&#39;A1--Cu--fcc&#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mf">4.05</span><span class="p">,</span> <span class="n">remote</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ucell</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">C</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">ElasticConstants</span><span class="p">(</span><span class="n">C11</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">),</span>
                        <span class="n">C12</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">),</span>
                        <span class="n">C44</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cij (GPa) =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">Cij</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
avect =  [ 4.050,  0.000,  0.000]
bvect =  [ 0.000,  4.050,  0.000]
cvect =  [ 0.000,  0.000,  4.050]
origin = [ 0.000,  0.000,  0.000]
natoms = 4
natypes = 1
symbols = (None,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   0.000 |   2.025 |   2.025
      2 |       1 |   2.025 |   0.000 |   2.025
      3 |       1 |   2.025 |   2.025 |   0.000

Cij (GPa) =
[[105.  70.  70.   0.   0.   0.]
 [ 70. 105.  70.   0.   0.   0.]
 [ 70.  70. 105.   0.   0.   0.]
 [  0.   0.   0.  45.   0.   0.]
 [  0.   0.   0.   0.  45.   0.]
 [  0.   0.   0.   0.   0.  45.]]
</pre></div></div>
</div>
<p>Define the dislocation</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># FCC a/2&lt;101&gt;{111} dislocation</span>
<span class="n">burgers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">])</span>
<span class="n">slip_hkl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Line direction determines dislocation character</span>
<span class="c1">#ξ_uvw = [ 1,-2, 1] # 90 degree edge</span>
<span class="c1">#ξ_uvw = [1, -1, 0] # 60 degree mixed</span>
<span class="n">ξ_uvw</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># 30 degree mixed</span>
<span class="c1">#ξ_uvw = [1, 0, -1] # 0 degree screw</span>
</pre></div>
</div>
</div>
<p>Initialize the Dislocation object using the above parameters</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">disl</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">Dislocation</span><span class="p">(</span><span class="n">ucell</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">burgers</span><span class="p">,</span> <span class="n">ξ_uvw</span><span class="p">,</span> <span class="n">slip_hkl</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>or, load dislocation parameters from a file</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#model = &#39;C:/Users/lmh1/Documents/library/dislocation/A2--W--bcc--a-2-111--0-screw--{110}.json&#39;</span>
<span class="c1">#disl = am.defect.Dislocation.fromref(ucell, C, model)</span>
</pre></div>
</div>
</div>
<p>The Dislocation object has a number of attributes that describe the basic setup.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Transformation matrix =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">disl</span><span class="o">.</span><span class="n">transform</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rotation uvws =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">disl</span><span class="o">.</span><span class="n">uvws</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unit cell =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">disl</span><span class="o">.</span><span class="n">ucell</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rotated cell =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">disl</span><span class="o">.</span><span class="n">rcell</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Transformation matrix =
[[ 0.40824829  0.40824829 -0.81649658]
 [-0.70710678  0.70710678  0.        ]
 [ 0.57735027  0.57735027  0.57735027]]

Rotation uvws =
[[ 1.  1. -2.]
 [-1.  1.  0.]
 [ 1.  1.  1.]]

Unit cell =
avect =  [ 4.050,  0.000,  0.000]
bvect =  [ 0.000,  4.050,  0.000]
cvect =  [ 0.000,  0.000,  4.050]
origin = [ 0.000,  0.000,  0.000]
natoms = 4
natypes = 1
symbols = (None,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   0.000 |   0.000 |   0.000
      1 |       1 |   0.000 |   2.025 |   2.025
      2 |       1 |   2.025 |   0.000 |   2.025
      3 |       1 |   2.025 |   2.025 |   0.000

Rotated cell =
avect =  [ 9.920,  0.000,  0.000]
bvect =  [ 0.000,  5.728,  0.000]
cvect =  [ 0.000,  0.000,  7.015]
origin = [ 0.000,  0.000,  0.000]
natoms = 24
natypes = 1
symbols = (None,)
pbc = [ True  True  True]
per-atom properties = [&#39;atype&#39;, &#39;pos&#39;]
     id |   atype |  pos[0] |  pos[1] |  pos[2]
      0 |       1 |   7.440 |   4.296 |   0.000
      1 |       1 |   7.440 |   1.432 |   0.000
      2 |       1 |   9.094 |   1.432 |   2.338
      3 |       1 |   9.094 |   4.296 |   2.338
      4 |       1 |   2.480 |   1.432 |   0.000
      5 |       1 |   4.960 |   0.000 |   0.000
      6 |       1 |   2.480 |   4.296 |   0.000
      7 |       1 |   4.960 |   2.864 |   0.000
      8 |       1 |   4.134 |   4.296 |   2.338
      9 |       1 |   4.134 |   1.432 |   2.338
     10 |       1 |   6.614 |   2.864 |   2.338
     11 |       1 |   6.614 |   5.728 |   2.338
     12 |       1 |   5.787 |   1.432 |   4.677
     13 |       1 |   8.267 |   5.728 |   4.677
     14 |       1 |   5.787 |   4.296 |   4.677
     15 |       1 |   8.267 |   2.864 |   4.677
     16 |       1 |   9.920 |   2.864 |   0.000
     17 |       1 |   9.920 |   0.000 |   0.000
     18 |       1 |   1.653 |   0.000 |   2.338
     19 |       1 |   1.653 |   2.864 |   2.338
     20 |       1 |   0.827 |   4.296 |   4.677
     21 |       1 |   0.827 |   1.432 |   4.677
     22 |       1 |   3.307 |   2.864 |   4.677
     23 |       1 |   3.307 |   5.728 |   4.677

</pre></div></div>
</div>
<p>A Volterra dislocation solution is also obtained, which is accessible as the dislsol attribute</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;character angle = {disl.dislsol.characterangle()} degrees&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;K_coeff = {uc.get_in_units(disl.dislsol.K_coeff, &quot;GPa&quot;):.3f} GPa&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;burgers =&#39;</span><span class="p">,</span> <span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">disl</span><span class="o">.</span><span class="n">dislsol</span><span class="o">.</span><span class="n">burgers</span><span class="p">,</span> <span class="s2">&quot;angstrom&quot;</span><span class="p">),</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
character angle = 30.000000000000004 degrees
K_coeff = 33.399 GPa
burgers = [ 2.48010836 -1.43189123  0.        ] angstrom
</pre></div></div>
</div>
<p>The shift values should be selected such that the dislocation falls between atomic positions. For planar dislocations, the slip plane should be placed roughly halfway between atomic planes. The class automatically identifies all such shifts relative to rcell and stores them as the attribute shifts.</p>
<p>The initialization parameters allow for shifts to be defined in one of three ways:</p>
<ol class="arabic simple">
<li><p>Giving shiftindex indicates which of the identified shifts relative to rcell to use. If neither shift or shiftindex is specified, then shiftindex=0 is used.</p></li>
<li><p>Giving shift with shiftscale=False allows for an absolute Cartesian shift to be specified.</p></li>
<li><p>Giving shift with shiftscale=True allows for a shift relative to rcell’s box vectors to be specified.</p></li>
</ol>
<p>For non-planar screw dislocations, the dislocation core should be placed in the proper location where the involved slip planes intercept. This can be handled by specifying shifts using options 2 or 3.</p>
<p>Note that the shift can be changed when calling the monopole and periodicarray methods.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Identified shifts =&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">disl</span><span class="o">.</span><span class="n">shifts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The shift currently set to be used =&#39;</span><span class="p">,</span> <span class="n">disl</span><span class="o">.</span><span class="n">shift</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Identified shifts =
[[0.         0.         1.1691343 ]
 [0.         0.         3.50740289]
 [0.         0.         5.84567148]]

The shift currently set to be used = [0.        0.        1.1691343]
</pre></div></div>
</div>
</div>
<div class="section" id="4.-Dislocation-Monopole-Configuration">
<h2>4. Dislocation Monopole Configuration<a class="headerlink" href="#4.-Dislocation-Monopole-Configuration" title="Permalink to this headline">¶</a></h2>
<p>System size parameters</p>
<ul class="simple">
<li><p><strong>sizemults</strong> (<em>tuple, optional</em>) The size multipliers to use when generating the system. Values are limited to being positive integers. The multipliers for the two non-periodic directions must be even. If not given, the default multipliers will be 2 for the non-periodic directions and 1 for the periodic direction.</p></li>
<li><p><strong>amin</strong> (<em>float, optional</em>) A minimum thickness to use for the a box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both amin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
<li><p><strong>bmin</strong> (<em>float, optional</em>) A minimum thickness to use for the b box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both bmin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
<li><p><strong>cmin</strong> (<em>float, optional</em>) A minimum thickness to use for the c box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both cmin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
</ul>
<p>Shift parameters</p>
<ul class="simple">
<li><p><strong>shift</strong> (<em>float, optional</em>) A rigid body shift to apply to the rotated cell prior to inserting the dislocation. Should be selected such that the ideal slip plane does not correspond to any atomic planes. Is taken as absolute if shiftscale is False, or relative to the rotated cell’s box vectors if shiftscale is True. Cannot be given with shiftindex. If neither shift nor shiftindex is given will use the shift set during class initialization.</p></li>
<li><p><strong>shiftindex</strong> (<em>float, optional</em>) The index of the identified optimum shifts based on the rotated cell to use. Different values allow for the selection of different atomic planes neighboring the slip plane. Note that shiftindex values only apply shifts normal to the slip plane; best shifts for non-planar dislocations (like bcc screw) may also need a shift in the slip plane. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used then will use the
shift set during class initialization.</p></li>
<li><p><strong>shiftscale</strong> (<em>bool, optional</em>) If False (default), a given shift value will be taken as absolute Cartesian. If True, a given shift will be taken relative to the rotated cell’s box vectors.</p></li>
</ul>
<p>Boundary parameters</p>
<ul class="simple">
<li><p><strong>boundaryshape</strong> (<em>str, optional</em>) Indicates the shape of the boundary region to use. Options are ‘cylinder’ (default) and ‘box’. For ‘cylinder’, the non-boundary region is defined by a cylinder with axis along the dislocation line and a radius that ensures the boundary is at least boundarywidth thick. For ‘box’, the boundary region will be exactly boundarywidth thick all around.</p></li>
<li><p><strong>boundarywidth</strong> (<em>float, optional</em>) The width of the boundary region to apply. Default value is 0.0, i.e. no boundary region. All atoms in the boundary region will have their atype values changed.</p></li>
<li><p><strong>boundaryscale</strong> (<em>bool, optional</em>) If False (Default), the boundarywidth will be taken as absolute. If True, the boundarywidth will be taken relative to the magnitude of the unit cell’s a box vector.</p></li>
</ul>
<p>Return options</p>
<ul class="simple">
<li><p><strong>return_base_system</strong> (<em>bool, optional</em>) If True then the dislocation-free base system corresponding to the dislocation system will also be returned. The base system is used as a reference state for most of the dislocation analysis tools.</p></li>
</ul>
<div class="section" id="4.1.-Small-atomic-system-example,-easy-to-see-atomic-positions">
<h3>4.1. Small atomic system example, easy to see atomic positions<a class="headerlink" href="#4.1.-Small-atomic-system-example,-easy-to-see-atomic-positions" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">disl</span><span class="o">.</span><span class="n">monopole</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                                         <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                         <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">atype</span> <span class="ow">in</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atypes</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.9._Dislocation_class_22_0.png" src="../_images/tutorial_04.9._Dislocation_class_22_0.png" />
</div>
</div>
</div>
<div class="section" id="4.2.-Large-atomic-system-example,-more-useful-for-simulations">
<h3>4.2. Large atomic system example, more useful for simulations<a class="headerlink" href="#4.2.-Large-atomic-system-example,-more-useful-for-simulations" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">disl</span><span class="o">.</span><span class="n">monopole</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
                                         <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                         <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">atype</span> <span class="ow">in</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atypes</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.9._Dislocation_class_25_0.png" src="../_images/tutorial_04.9._Dislocation_class_25_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="5.-Periodic-Array-of-Dislocations-Configuration">
<h2>5. Periodic Array of Dislocations Configuration<a class="headerlink" href="#5.-Periodic-Array-of-Dislocations-Configuration" title="Permalink to this headline">¶</a></h2>
<p>System size parameters</p>
<ul class="simple">
<li><p><strong>sizemults</strong> (<em>tuple, optional</em>) The size multipliers to use when generating the system. Values are limited to being positive integers. The multipliers for the two non-periodic directions must be even. If not given, the default multipliers will be 2 for the non-periodic directions and 1 for the periodic direction.</p></li>
<li><p><strong>amin</strong> (<em>float, optional</em>) A minimum thickness to use for the a box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both amin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
<li><p><strong>bmin</strong> (<em>float, optional</em>) A minimum thickness to use for the b box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both bmin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
<li><p><strong>cmin</strong> (<em>float, optional</em>) A minimum thickness to use for the c box vector direction of the final system. Default value is 0.0. For the non-periodic directions, the resulting vector multiplier will be even. If both cmin and sizemults is given, then the larger multiplier for the two will be used.</p></li>
</ul>
<p>Shift parameters</p>
<ul class="simple">
<li><p><strong>shift</strong> (<em>float, optional</em>) A rigid body shift to apply to the rotated cell prior to inserting the dislocation. Should be selected such that the ideal slip plane does not correspond to any atomic planes. Is taken as absolute if shiftscale is False, or relative to the rotated cell’s box vectors if shiftscale is True. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used.</p></li>
<li><p><strong>shiftindex</strong> (<em>float, optional</em>) The index of the identified optimum shifts based on the rotated cell to use. Different values allow for the selection of different atomic planes neighboring the slip plane. Note that shiftindex values only apply shifts normal to the slip plane; best shifts for non-planar dislocations (like bcc screw) may also need a shift in the slip plane. Cannot be given with shiftindex. If neither shift nor shiftindex is given then shiftindex = 0 is used.</p></li>
<li><p><strong>shiftscale</strong> (<em>bool, optional</em>) If False (default), a given shift value will be taken as absolute Cartesian. If True, a given shift will be taken relative to the rotated cell’s box vectors.</p></li>
</ul>
<p>Boundary parameters</p>
<ul class="simple">
<li><p><strong>boundarywidth</strong> (<em>float, optional</em>) The width of the boundary region to apply. Default value is 0.0, i.e. no boundary region. All atoms in the boundary region will have their atype values changed and will be displaced by linear displacements.</p></li>
<li><p><strong>boundaryscale</strong> (<em>bool, optional</em>) If False (Default), the boundarywidth will be taken as absolute. If True, the boundarywidth will be taken relative to the magnitude of the unit cell’s a box vector.</p></li>
</ul>
<p>Method options</p>
<ul class="simple">
<li><p><strong>linear</strong> (<em>bool, optional</em>) If True, then only linear displacements will be used and not the dislocation solution. Using only linear displacements is useful for screw dislocations and dislocations with large stacking fault distances. If False (default) then the dislocation solution will be used for the middle displacements and linear displacements only in the boundary region.</p></li>
<li><p><strong>cutoff</strong> (<em>float, optional</em>) Cutoff distance to use for identifying duplicate atoms to remove. For dislocations with an edge component, applying the displacements creates an extra half-plane of atoms that will have (nearly) identical positions with other atoms after altering the boundary conditions. Default value is 0.5 Angstrom.</p></li>
</ul>
<p>Return options</p>
<ul class="simple">
<li><p><strong>return_base_system</strong> (<em>bool, optional</em>) If True then the dislocation-free base system corresponding to the dislocation system will also be returned. The base system is used as a reference state for most of the dislocation analysis tools.</p></li>
</ul>
<div class="section" id="5.1.-Small-atomic-system-example,-easy-to-see-atomic-positions">
<h3>5.1. Small atomic system example, easy to see atomic positions<a class="headerlink" href="#5.1.-Small-atomic-system-example,-easy-to-see-atomic-positions" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">disl</span><span class="o">.</span><span class="n">periodicarray</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                                              <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                              <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">atype</span> <span class="ow">in</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atypes</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.9._Dislocation_class_29_0.png" src="../_images/tutorial_04.9._Dislocation_class_29_0.png" />
</div>
</div>
</div>
<div class="section" id="5.2.-Large-atomic-system-example,-more-useful-for-simulations">
<h3>5.2. Large atomic system example, more useful for simulations<a class="headerlink" href="#5.2.-Large-atomic-system-example,-more-useful-for-simulations" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">base_system</span><span class="p">,</span> <span class="n">disl_system</span> <span class="o">=</span> <span class="n">disl</span><span class="o">.</span><span class="n">periodicarray</span><span class="p">(</span><span class="n">bmin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">cmin</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
                                              <span class="n">boundarywidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">boundaryscale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                              <span class="n">return_base_system</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">atype</span> <span class="ow">in</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atypes</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="n">disl_system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">atype</span><span class="o">==</span><span class="n">atype</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.9._Dislocation_class_32_0.png" src="../_images/tutorial_04.9._Dislocation_class_32_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction to atomman: Dislocation class</a><ul>
<li><a class="reference internal" href="#1.-Introduction">1. Introduction</a></li>
<li><a class="reference internal" href="#2.-Underlying-theory">2. Underlying theory</a><ul>
<li><a class="reference internal" href="#2.1.-Dislocation-definition">2.1. Dislocation definition</a></li>
<li><a class="reference internal" href="#2.2.-Dislocation-solutions">2.2. Dislocation solutions</a></li>
<li><a class="reference internal" href="#2.3.-Boundary-conditions">2.3. Boundary conditions</a><ul>
<li><a class="reference internal" href="#2.3.1.-Dislocation-monopoles">2.3.1. Dislocation monopoles</a></li>
<li><a class="reference internal" href="#2.3.2.-Periodic-array-of-dislocations">2.3.2. Periodic array of dislocations</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#3.-Dislocation-initialization">3. Dislocation initialization</a></li>
<li><a class="reference internal" href="#4.-Dislocation-Monopole-Configuration">4. Dislocation Monopole Configuration</a><ul>
<li><a class="reference internal" href="#4.1.-Small-atomic-system-example,-easy-to-see-atomic-positions">4.1. Small atomic system example, easy to see atomic positions</a></li>
<li><a class="reference internal" href="#4.2.-Large-atomic-system-example,-more-useful-for-simulations">4.2. Large atomic system example, more useful for simulations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#5.-Periodic-Array-of-Dislocations-Configuration">5. Periodic Array of Dislocations Configuration</a><ul>
<li><a class="reference internal" href="#5.1.-Small-atomic-system-example,-easy-to-see-atomic-positions">5.1. Small atomic system example, easy to see atomic positions</a></li>
<li><a class="reference internal" href="#5.2.-Large-atomic-system-example,-more-useful-for-simulations">5.2. Large atomic system example, more useful for simulations</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="04.8._Periodic_array_of_dislocations.html"
                        title="previous chapter">Introduction to atomman: Periodic array of dislocations</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../atomman.html"
                        title="next chapter">atomman package</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../atomman.html" title="atomman package"
             >next</a> |</li>
        <li class="right" >
          <a href="04.8._Periodic_array_of_dislocations.html" title="Introduction to atomman: Periodic array of dislocations"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">atomman 1.3.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Tutorials</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>