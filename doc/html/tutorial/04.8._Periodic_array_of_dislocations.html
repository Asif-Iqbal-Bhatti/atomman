
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Introduction to atomman: Periodic array of dislocations &#8212; atomman 1.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="atomman package" href="../atomman.html" />
    <link rel="prev" title="Introduction to atomman: Semidiscrete variational Peierls-Nabarro model" href="04.7._Semidiscrete_variational_Peierls-Nabarro_model.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../atomman.html" title="atomman package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="04.7._Semidiscrete_variational_Peierls-Nabarro_model.html" title="Introduction to atomman: Semidiscrete variational Peierls-Nabarro model"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">atomman 1.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Tutorials</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 7ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Introduction-to-atomman:-Periodic-array-of-dislocations">
<h1>Introduction to atomman: Periodic array of dislocations<a class="headerlink" href="#Introduction-to-atomman:-Periodic-array-of-dislocations" title="Permalink to this headline">¶</a></h1>
<p><strong>Lucas M. Hale</strong>, <a class="reference external" href="mailto:lucas&#46;hale&#37;&#52;&#48;nist&#46;gov?Subject=ipr-demo">lucas<span>&#46;</span>hale<span>&#64;</span>nist<span>&#46;</span>gov</a>, <em>Materials Science and Engineering Division, NIST</em>.</p>
<p><a class="reference external" href="http://www.nist.gov/public_affairs/disclaimer.cfm">Disclaimers</a></p>
<div class="section" id="1.-Introduction">
<h2>1. Introduction<a class="headerlink" href="#1.-Introduction" title="Permalink to this headline">¶</a></h2>
<p>This Notebook outlines how to construct a periodic array of dislocations, PAD, using the atomman.defect.dislocation_array method. A periodic array of dislocations is an atomic configuration that can investigate the slip motion of a dislocation along a specific slip plane when subjected to applied shear stresses or strains.</p>
<p><strong>Library Imports</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Standard Python libraries</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="c1"># http://www.numpy.org/</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># https://github.com/usnistgov/atomman</span>
<span class="kn">import</span> <span class="nn">atomman</span> <span class="k">as</span> <span class="nn">am</span>
<span class="kn">import</span> <span class="nn">atomman.unitconvert</span> <span class="k">as</span> <span class="nn">uc</span>

<span class="c1"># https://matplotlib.org/</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="c1"># Show atomman version</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;atomman version =&#39;</span><span class="p">,</span> <span class="n">am</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>

<span class="c1"># Show date of Notebook execution</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Notebook executed on&#39;</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
atomman version = 1.3.0
Notebook executed on 2019-11-05
</pre></div></div>
</div>
<div class="section" id="1.1.-Theory">
<h3>1.1. Theory<a class="headerlink" href="#1.1.-Theory" title="Permalink to this headline">¶</a></h3>
<p>A periodic array of dislocations (PAD) represents an infinite array of dislocations with the same Burgers vector, <span class="math notranslate nohighlight">\(\vec{b}\)</span>, placed on the same slip plane and equally spaced by <span class="math notranslate nohighlight">\(l\)</span>. To achieve this using a finite atomic system, a single straight dislocation is inserted into an otherwise bulk crystal, and the system is made periodic along both the dislocation’s line direction and the direction the dislocation line moves during slip. This makes a PAD ideally suited for studying steady
state slip of a dislocation in a bulk medium subjected to applied stresses or strains as the dislocation can slip indefinitely across the periodic boundaries.</p>
<p>The dislocation orientation is defined using three orthogonal unit vectors, <span class="math notranslate nohighlight">\(\hat{m}\)</span>, <span class="math notranslate nohighlight">\(\hat{n}\)</span> and <span class="math notranslate nohighlight">\(\hat{u}\)</span></p>
<ul class="simple">
<li><span class="math notranslate nohighlight">\(\hat{u}\)</span> is the dislocation’s line direction,</li>
<li><span class="math notranslate nohighlight">\(\hat{n}\)</span> is the normal to the dislocation’s slip plane, and</li>
<li><span class="math notranslate nohighlight">\(\hat{m}\)</span> is in the slip plane and perpendicular to <span class="math notranslate nohighlight">\(\hat{u}\)</span>.</li>
</ul>
<p>For convenience, the dislocation orientation vectors are typically selected to correspond to the Cartesian axes used in defining the atomic system. Here, we use the Cartesian coordinate system that gives atomic positions, <span class="math notranslate nohighlight">\(r\)</span>, as</p>
<ul class="simple">
<li><span class="math notranslate nohighlight">\(\vec{r} = x\hat{u} +y\hat{m} +z\hat{n}\)</span></li>
</ul>
<p>The alignment of the atomic system’s box vectors, <span class="math notranslate nohighlight">\(\vec{a}_{box}\)</span>, <span class="math notranslate nohighlight">\(\vec{b}_{box}\)</span>, and <span class="math notranslate nohighlight">\(\vec{c}_{box}\)</span>, with the dislocation orientation vectors is more complicated as the box vectors need not be orthogonal to each other. The following rules provide one such alignment that can be adapted to any dislocation</p>
<ul class="simple">
<li><span class="math notranslate nohighlight">\(\vec{a}_{box}\)</span> is aligned to be parallel to <span class="math notranslate nohighlight">\(\hat{u}\)</span>. The system is made periodic along the <span class="math notranslate nohighlight">\(\vec{a}_{box}\)</span> direction to simulate an infinitely long straight dislocation,</li>
<li><span class="math notranslate nohighlight">\(\vec{b}_{box}\)</span> is selected to be perpendicular to <span class="math notranslate nohighlight">\(\hat{n}\)</span>, and as close to <span class="math notranslate nohighlight">\(\hat{m}\)</span> as possible. This box direction is also made periodic to allow the dislocation to freely move in the <span class="math notranslate nohighlight">\(\hat{m}\)</span> direction. Note that <span class="math notranslate nohighlight">\(l = \vec{b} \cdot \hat{m}\)</span>, and</li>
<li><span class="math notranslate nohighlight">\(\vec{c}_{box}\)</span> is then the only one with a component in the <span class="math notranslate nohighlight">\(\hat{n}\)</span> direction. The system is non-periodic in this direction.</li>
</ul>
<p>Generating a PAD configuration requires inserting the dislocation in such a way that atomic compatibility is retained across the two periodic box boundaries. There is no issue with compatibility along the <span class="math notranslate nohighlight">\(\vec{a}_{box}\)</span> direction if the inserted dislocation is perfectly straight as solutions for straight dislocations are independent of <span class="math notranslate nohighlight">\(x\)</span>. Ensuring compatibility along <span class="math notranslate nohighlight">\(\vec{b}_{box}\)</span> is more complicated and requires careful consideration of the dislocation solution.</p>
<p>Solutions for straight Volterra dislocations give displacements, <span class="math notranslate nohighlight">\(\vec{d}\)</span>, to be functions of the radial coordinate, <span class="math notranslate nohighlight">\(\theta = \arctan(\frac{y}{x})\)</span>, around the dislocation line. As <span class="math notranslate nohighlight">\(\theta\)</span> ranges from <span class="math notranslate nohighlight">\(0\)</span> to <span class="math notranslate nohighlight">\(2\pi\)</span>, <span class="math notranslate nohighlight">\(\vec{d}\)</span> increases by <span class="math notranslate nohighlight">\(\vec{b}\)</span>. The specific form of the Volterra solutions used by atomman have the following limits for the displacement solution</p>
<div class="math notranslate nohighlight">
\[\lim\limits_{y \to \infty} \vec{d}(y, z=0) = 0\]</div>
<div class="math notranslate nohighlight">
\[\lim\limits_{y \to -\infty, z \to 0^-} \vec{d}(y, z) = -\vec{b}/2\]</div>
<div class="math notranslate nohighlight">
\[\lim\limits_{y \to -\infty,z \to 0^+} \vec{d}(y, z) = \vec{b}/2\]</div>
<p>According to the displacements, the material is perfect crystal infinitely far from the dislocation, but the far-field displacements for <span class="math notranslate nohighlight">\(y=\infty\)</span> and <span class="math notranslate nohighlight">\(y=-\infty\)</span> limits are shifted by <span class="math notranslate nohighlight">\(\pm \frac{\vec{b}}{2}\)</span> relative to each other.</p>
<p>In a finite PAD system, atomic compatibility requires that the full <span class="math notranslate nohighlight">\(\vec{b}\)</span> shearing along the slip plane due to the dislocation must take place over the periodic distance <span class="math notranslate nohighlight">\(l\)</span> in the <span class="math notranslate nohighlight">\(y\)</span> direction. Thus, a dislocation can be inserted into the center of a PAD by applying a displacement solution that reproduces the limits listed above for <span class="math notranslate nohighlight">\(y=y_{min}\)</span> and <span class="math notranslate nohighlight">\(y_{max}\)</span> rather than for <span class="math notranslate nohighlight">\(y=-\infty\)</span> and <span class="math notranslate nohighlight">\(\infty\)</span>.</p>
<p>After displacing the atoms, <span class="math notranslate nohighlight">\(\vec{b}_{box}\)</span> can be modified by <span class="math notranslate nohighlight">\(\pm \frac{\vec{b}}{2}\)</span> to account for the relative shift at the two periodic <span class="math notranslate nohighlight">\(\vec{b}_{box}\)</span> boundaries. For the screw component of the Burgers vector, <span class="math notranslate nohighlight">\(b_{s} = \vec{b} \cdot \hat{u}\)</span>, the modification to <span class="math notranslate nohighlight">\(\vec{b}_{box}\)</span> is in the <span class="math notranslate nohighlight">\(x\)</span> direction and therefore does not affect <span class="math notranslate nohighlight">\(l\)</span> or the system’s volume. In contrast, the edge component of the Burgers vector,
<span class="math notranslate nohighlight">\(b_{e} = \vec{b} \cdot \hat{m}\)</span>, will alter <span class="math notranslate nohighlight">\(l\)</span> and the system’s volume. Any method for constructing a PAD needs to account for this volume change by appropriately adding or removing atoms.</p>
</div>
<div class="section" id="1.2-Methodology-overview">
<h3>1.2 Methodology overview<a class="headerlink" href="#1.2-Methodology-overview" title="Permalink to this headline">¶</a></h3>
<p>The simplest displacement solution that agrees with the rules listed above for creating a PAD system is to apply equal but opposite linear gradients of displacements above and below the slip plane at <span class="math notranslate nohighlight">\(z=0\)</span></p>
<div class="math notranslate nohighlight">
\[\vec{d}_{lin}(y, z) = \frac{\vec{b}}{2} - \text{sign}(z)\left[ \frac{y\vec{b}}{2l} + \frac{\vec{b}}{4}\right].\]</div>
<p>While this does not give a good approximation of a real dislocation, it does have a couple of benefits besides its simplicity. First, the solution is independent of the dislocation’s position along the slip plane. This makes it a good choice of displacements for the non-periodic surfaces if the atoms are held rigidly as the interaction between the dislocation and the boundaries will remain constant as the dislocation moves. Also, since <span class="math notranslate nohighlight">\(\vec{d}_{lin}\)</span> depends on <span class="math notranslate nohighlight">\(\text{sign}(z)\)</span>
rather than <span class="math notranslate nohighlight">\(z\)</span> the solution on each side of the slip plane only depends on <span class="math notranslate nohighlight">\(y\)</span>.</p>
<p>The methodology steps used by the dislocation_array() function method are</p>
<ol class="arabic simple">
<li>The function takes as parameters an initially bulk crystalline system and a dislocation solution consisting of <span class="math notranslate nohighlight">\(\hat{m}\)</span> <span class="math notranslate nohighlight">\(\hat{n}\)</span>, and <span class="math notranslate nohighlight">\(\vec{b}\)</span>.</li>
<li>The specified dislocation solution and atomic system are checked for compatibility. Notably,<ol class="arabic">
<li><span class="math notranslate nohighlight">\(\hat{m}\)</span> and <span class="math notranslate nohighlight">\(\hat{n}\)</span> are tested to be orthogonal</li>
<li><span class="math notranslate nohighlight">\(\vec{b} \cdot \hat{n} = 0\)</span> to ensure that <span class="math notranslate nohighlight">\(\vec{b}\)</span> is in the slip plane</li>
<li>One box vector must be parallel to <span class="math notranslate nohighlight">\(\hat{u} = \hat{m} \times \hat{n}\)</span>,</li>
<li>Only one box vector can have a component in the <span class="math notranslate nohighlight">\(\hat{n}\)</span> direction.</li>
</ol>
</li>
<li>A test system is then constructed by copying the original system and modifying the box vector most aligned with <span class="math notranslate nohighlight">\(\hat{m}\)</span> by <span class="math notranslate nohighlight">\(\pm \frac{\vec{b}}{2}\)</span>. The sign of the modification is taken such that the system’s volume always decreases for <span class="math notranslate nohighlight">\(\vec{b}\)</span> with edge components.</li>
<li>The atoms in the test system are then displaced using <span class="math notranslate nohighlight">\(\vec{d}_{lin}\)</span>.</li>
<li>The excess duplicate atoms due to the box modification are searched for and identified by finding all atoms within a very small radial distance from each other. The number of identified duplicate atoms is verified to match the expected number to remove based on the system’s volume decrease.</li>
<li>The PAD system is then created based on the modified box boundaries and original atomic positions for all non-duplicate atoms.</li>
<li>The atoms in the PAD system are then displaced according to any supplied dislocation solution.<ol class="arabic">
<li>If no dislocation solution is given (only <span class="math notranslate nohighlight">\(\hat{m}\)</span> <span class="math notranslate nohighlight">\(\hat{n}\)</span>, and <span class="math notranslate nohighlight">\(\vec{b}\)</span>), then all atoms are displaced using <span class="math notranslate nohighlight">\(\vec{d}_{lin}\)</span>.</li>
<li>If a dislocation solution is given, such as a Volterra solution, that solution is used for all atoms in the system except at the free surfaces parallel to the slip plane. The boundary atoms at the free surfaces are displaced according to <span class="math notranslate nohighlight">\(\vec{d}_{lin}\)</span>.</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="1.3.-dislocation_array()-docstring">
<h3>1.3. dislocation_array() docstring<a class="headerlink" href="#1.3.-dislocation_array()-docstring" title="Permalink to this headline">¶</a></h3>
<p>Method that converts a bulk crystal system into a periodic array of dislocations. A single dislocation is inserted using a dislocation solution. The system’s box and pbc are altered such that the system is periodic and compatible across the two box vectors contained in the slip plane. The third box vector is non-periodic, resulting in free surfaces parallel to the dislocation’s slip plane.</p>
<p>Parameters</p>
<ul class="simple">
<li><strong>system</strong> (<em>atomman.System</em>) A perfect, bulk atomic system.</li>
<li><strong>dislsol</strong> (<em>atomman.defect.Stroh or atomman.defect.IsotropicVolterra, optional</em>) A dislocation solution to use to displace atoms by. If not given, all atoms will be given linear displacements associated with the long-range limits.</li>
<li><strong>m</strong> (<em>array-like object, optional</em>) The dislocation solution m unit vector. This vector is in the slip plane and perpendicular to the dislocation line direction. Only needed if dislsol is not given.</li>
<li><strong>n</strong> (<em>array-like object, optional</em>) The dislocation solution n unit vector. This vector is normal to the slip plane. Only needed if dislsol is not given.</li>
<li><strong>burgers</strong> (<em>array-like object, optional</em>) The Cartesian Burger’s vector for the dislocation relative to the given system’s Cartesian coordinates. Only needed if dislsol is not given.</li>
<li><strong>bwidth</strong> (<em>float, optional</em>) The width of the boundary region at the free surfaces. Atoms within the boundaries will be displaced by linear displacements instead of by the dislocation solution. Only given if dislsol is not None. Default value if dislsol is given is 10 Angstroms.</li>
<li><strong>cutoff</strong> (<em>float, optional</em>) Cutoff distance to use for identifying duplicate atoms to remove. For dislocations with an edge component, applying the displacements creates an extra half-plane of atoms that will have (nearly) identical positions with other atoms after altering the boundary conditions. Default cutoff value is 0.5 Angstrom.</li>
</ul>
<p>Returns</p>
<p>(<em>atomman.System</em>) The system with the dislocation displacements added.</p>
</div>
</div>
<div class="section" id="2.-Only-linear-displacements">
<h2>2. Only linear displacements<a class="headerlink" href="#2.-Only-linear-displacements" title="Permalink to this headline">¶</a></h2>
<p>This is the simplest variation of the method, and is best used for planar screw dislocations and split dislocations with large stacking fault widths.</p>
<div class="section" id="2.1.-Define-bulk-system-and-dislocation">
<h3>2.1. Define bulk system and dislocation<a class="headerlink" href="#2.1.-Define-bulk-system-and-dislocation" title="Permalink to this headline">¶</a></h3>
<p>Define an fcc unit cell</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># 0K ucell for fcc Al using the 2008--Mendelev-M-I--Al potential.</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mf">4.0453</span><span class="p">,</span> <span class="s1">&#39;angstrom&#39;</span><span class="p">)</span>
<span class="n">symbols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Al&#39;</span><span class="p">]</span>
<span class="n">box</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">Box</span><span class="o">.</span><span class="n">cubic</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">atoms</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">Atoms</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                      <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                      <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
                      <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]])</span>
<span class="n">ucell</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">System</span><span class="p">(</span><span class="n">atoms</span><span class="o">=</span><span class="n">atoms</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">box</span><span class="p">,</span> <span class="n">symbols</span><span class="o">=</span><span class="n">symbols</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Dislocation parameters for a fcc <span class="math notranslate nohighlight">\(\frac{a}{2}&lt;1\bar{1}0&gt;\{111\}\)</span> screw dislocation</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Edge component direction (m) parallel to y-axis</span>
<span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="c1"># Slip plane normal (n) parallel to z-axis</span>
<span class="n">n</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

<span class="c1"># {111} slip plane, burgers aligned with x-axis</span>
<span class="n">uvws</span> <span class="o">=</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">]]</span>

<span class="n">burgers</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">**</span> <span class="mf">0.5</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>

<span class="c1"># Half-plane shift to avoid atoms exactly on slip plane</span>
<span class="n">atomshift</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">a</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">**</span> <span class="mf">0.5</span> <span class="o">/</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>Rotate system and shift atoms</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">system</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="n">ucell</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">uvws</span><span class="p">,</span> <span class="n">return_transform</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">system</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span> <span class="o">+=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">atomshift</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Increase system size, especially along m direction. Keep m and n directions centered at (0,0)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">system</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">supersize</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">natoms</span><span class="p">,</span> <span class="s1">&#39;atoms&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
86400 atoms
</pre></div></div>
</div>
</div>
<div class="section" id="2.2-Apply-linear-displacements">
<h3>2.2 Apply linear displacements<a class="headerlink" href="#2.2-Apply-linear-displacements" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dislsystem</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">dislocation_array</span><span class="p">(</span><span class="n">system</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">burgers</span><span class="o">=</span><span class="n">burgers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Show that box has been changed</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;initial box&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">box</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;dislocation box&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dislsystem</span><span class="o">.</span><span class="n">box</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
initial box
avect =  [17.163,  0.000,  0.000]
bvect =  [ 0.000, 594.535,  0.000]
cvect =  [ 0.000,  0.000, 140.133]
origin = [ 0.000, -297.268, -70.067]
dislocation box
avect =  [17.163,  0.000,  0.000]
bvect =  [ 1.430, 594.535,  0.000]
cvect =  [ 0.000,  0.000, 140.133]
origin = [ 0.000, -297.268, -70.067]
</pre></div></div>
</div>
<p>Plot atomic displacements</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">x</span> <span class="o">=</span> <span class="n">dislsystem</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dislsystem</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">am</span><span class="o">.</span><span class="n">displacement</span><span class="p">(</span><span class="n">system</span><span class="p">,</span> <span class="n">dislsystem</span><span class="p">)[:,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.8._Periodic_array_of_dislocations_22_0.png" src="../_images/tutorial_04.8._Periodic_array_of_dislocations_22_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="3.-Volterra-dislocation">
<h2>3. Volterra dislocation<a class="headerlink" href="#3.-Volterra-dislocation" title="Permalink to this headline">¶</a></h2>
<p>For dislocations with compact cores, it may be preferable to construct the core using a Volterra solution.</p>
<div class="section" id="3.1-Define-bulk-system-and-dislocation">
<h3>3.1 Define bulk system and dislocation<a class="headerlink" href="#3.1-Define-bulk-system-and-dislocation" title="Permalink to this headline">¶</a></h3>
<p>Use the same bulk system and dislocation definition as above</p>
<p>Specify elastic constants</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># 0K Cij for fcc Al using the 2008--Mendelev-M-I--Al potential.</span>
<span class="n">C11</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span><span class="mf">105.09</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C12</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span> <span class="mf">59.46</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C44</span> <span class="o">=</span> <span class="n">uc</span><span class="o">.</span><span class="n">set_in_units</span><span class="p">(</span> <span class="mf">30.66</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">)</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">ElasticConstants</span><span class="p">(</span><span class="n">C11</span><span class="o">=</span><span class="n">C11</span><span class="p">,</span> <span class="n">C12</span><span class="o">=</span><span class="n">C12</span><span class="p">,</span> <span class="n">C44</span><span class="o">=</span><span class="n">C44</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cij in GPa:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">Cij</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Cij in GPa:
[[105.09  59.46  59.46   0.     0.     0.  ]
 [ 59.46 105.09  59.46   0.     0.     0.  ]
 [ 59.46  59.46 105.09   0.     0.     0.  ]
 [  0.     0.     0.    30.66   0.     0.  ]
 [  0.     0.     0.     0.    30.66   0.  ]
 [  0.     0.     0.     0.     0.    30.66]]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Transform Cij</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span>

<span class="c1"># Get dislocation solution using solve_volterra</span>
<span class="n">dislsol</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">solve_volterra_dislocation</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="n">C</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">burgers</span><span class="o">=</span><span class="n">burgers</span><span class="p">)</span>

<span class="n">K_tensor</span> <span class="o">=</span> <span class="n">dislsol</span><span class="o">.</span><span class="n">K_tensor</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;K_tensor in GPa:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">uc</span><span class="o">.</span><span class="n">get_in_units</span><span class="p">(</span><span class="n">K_tensor</span><span class="p">,</span> <span class="s1">&#39;GPa&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
K_tensor in GPa:
[[26.44821166  0.          0.        ]
 [ 0.         41.22064506  0.70363751]
 [ 0.          0.70363751 41.71819191]]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dislsystem</span> <span class="o">=</span> <span class="n">am</span><span class="o">.</span><span class="n">defect</span><span class="o">.</span><span class="n">dislocation_array</span><span class="p">(</span><span class="n">system</span><span class="p">,</span> <span class="n">dislsol</span><span class="o">=</span><span class="n">dislsol</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Plot atomic displacements</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">x</span> <span class="o">=</span> <span class="n">dislsystem</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">dislsystem</span><span class="o">.</span><span class="n">atoms</span><span class="o">.</span><span class="n">pos</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">am</span><span class="o">.</span><span class="n">displacement</span><span class="p">(</span><span class="n">system</span><span class="p">,</span> <span class="n">dislsystem</span><span class="p">)[:,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/tutorial_04.8._Periodic_array_of_dislocations_32_0.png" src="../_images/tutorial_04.8._Periodic_array_of_dislocations_32_0.png" />
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction to atomman: Periodic array of dislocations</a><ul>
<li><a class="reference internal" href="#1.-Introduction">1. Introduction</a><ul>
<li><a class="reference internal" href="#1.1.-Theory">1.1. Theory</a></li>
<li><a class="reference internal" href="#1.2-Methodology-overview">1.2 Methodology overview</a></li>
<li><a class="reference internal" href="#1.3.-dislocation_array()-docstring">1.3. dislocation_array() docstring</a></li>
</ul>
</li>
<li><a class="reference internal" href="#2.-Only-linear-displacements">2. Only linear displacements</a><ul>
<li><a class="reference internal" href="#2.1.-Define-bulk-system-and-dislocation">2.1. Define bulk system and dislocation</a></li>
<li><a class="reference internal" href="#2.2-Apply-linear-displacements">2.2 Apply linear displacements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#3.-Volterra-dislocation">3. Volterra dislocation</a><ul>
<li><a class="reference internal" href="#3.1-Define-bulk-system-and-dislocation">3.1 Define bulk system and dislocation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="04.7._Semidiscrete_variational_Peierls-Nabarro_model.html"
                        title="previous chapter">Introduction to atomman: Semidiscrete variational Peierls-Nabarro model</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../atomman.html"
                        title="next chapter">atomman package</a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../atomman.html" title="atomman package"
             >next</a> |</li>
        <li class="right" >
          <a href="04.7._Semidiscrete_variational_Peierls-Nabarro_model.html" title="Introduction to atomman: Semidiscrete variational Peierls-Nabarro model"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">atomman 1.3.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Tutorials</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>